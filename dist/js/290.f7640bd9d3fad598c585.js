(self.webpackChunkreact_webpack=self.webpackChunkreact_webpack||[]).push([[290,471],{30076:(e,t,n)=>{"use strict";n.d(t,{Z:()=>N});var r=n(28481),o=n(96156),a=n(81253),i=n(67294),l=n(94184),s=n.n(l),c=n(28991),u=n(90484),f=n(14100),p=n(80334),d=n(38186);function m(e){return"object"===(0,u.Z)(e)&&"string"==typeof e.name&&"string"==typeof e.theme&&("object"===(0,u.Z)(e.icon)||"function"==typeof e.icon)}function v(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return Object.keys(e).reduce((function(t,n){var r=e[n];switch(n){case"class":t.className=r,delete t.class;break;default:t[n]=r}return t}),{})}function y(e,t,n){return n?i.createElement(e.tag,(0,c.Z)((0,c.Z)({key:t},v(e.attrs)),n),(e.children||[]).map((function(n,r){return y(n,"".concat(t,"-").concat(e.tag,"-").concat(r))}))):i.createElement(e.tag,(0,c.Z)({key:t},v(e.attrs)),(e.children||[]).map((function(n,r){return y(n,"".concat(t,"-").concat(e.tag,"-").concat(r))})))}function h(e){return(0,f.generate)(e)[0]}function g(e){return e?Array.isArray(e)?e:[e]:[]}var b="\n.anticon {\n  display: inline-block;\n  color: inherit;\n  font-style: normal;\n  line-height: 0;\n  text-align: center;\n  text-transform: none;\n  vertical-align: -0.125em;\n  text-rendering: optimizeLegibility;\n  -webkit-font-smoothing: antialiased;\n  -moz-osx-font-smoothing: grayscale;\n}\n\n.anticon > * {\n  line-height: 1;\n}\n\n.anticon svg {\n  display: inline-block;\n}\n\n.anticon::before {\n  display: none;\n}\n\n.anticon .anticon-icon {\n  display: block;\n}\n\n.anticon[tabindex] {\n  cursor: pointer;\n}\n\n.anticon-spin::before,\n.anticon-spin {\n  display: inline-block;\n  -webkit-animation: loadingCircle 1s infinite linear;\n  animation: loadingCircle 1s infinite linear;\n}\n\n@-webkit-keyframes loadingCircle {\n  100% {\n    -webkit-transform: rotate(360deg);\n    transform: rotate(360deg);\n  }\n}\n\n@keyframes loadingCircle {\n  100% {\n    -webkit-transform: rotate(360deg);\n    transform: rotate(360deg);\n  }\n}\n",_=!1,C={primaryColor:"#333",secondaryColor:"#E6E6E6",calculated:!1},w=function(e){var t,n,r=e.icon,o=e.className,l=e.onClick,s=e.style,u=e.primaryColor,f=e.secondaryColor,v=(0,a.Z)(e,["icon","className","onClick","style","primaryColor","secondaryColor"]),g=C;if(u&&(g={primaryColor:u,secondaryColor:f||h(u)}),function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:b;(0,i.useEffect)((function(){_||((0,d.insertCss)(e,{prepend:!0}),_=!0)}),[])}(),t=m(r),n="icon should be icon definiton, but got ".concat(r),(0,p.ZP)(t,"[@ant-design/icons] ".concat(n)),!m(r))return null;var w=r;return w&&"function"==typeof w.icon&&(w=(0,c.Z)((0,c.Z)({},w),{},{icon:w.icon(g.primaryColor,g.secondaryColor)})),y(w.icon,"svg-".concat(w.name),(0,c.Z)({className:o,onClick:l,style:s,"data-icon":w.name,width:"1em",height:"1em",fill:"currentColor","aria-hidden":"true"},v))};w.displayName="IconReact",w.getTwoToneColors=function(){return(0,c.Z)({},C)},w.setTwoToneColors=function(e){var t=e.primaryColor,n=e.secondaryColor;C.primaryColor=t,C.secondaryColor=n||h(t),C.calculated=!!n};const E=w;function k(e){var t=g(e),n=(0,r.Z)(t,2),o=n[0],a=n[1];return E.setTwoToneColors({primaryColor:o,secondaryColor:a})}k("#1890ff");var S=i.forwardRef((function(e,t){var n=e.className,l=e.icon,c=e.spin,u=e.rotate,f=e.tabIndex,p=e.onClick,d=e.twoToneColor,m=(0,a.Z)(e,["className","icon","spin","rotate","tabIndex","onClick","twoToneColor"]),v=s()("anticon",(0,o.Z)({},"anticon-".concat(l.name),Boolean(l.name)),n),y=s()({"anticon-spin":!!c||"loading"===l.name}),h=f;void 0===h&&p&&(h=-1);var b=u?{msTransform:"rotate(".concat(u,"deg)"),transform:"rotate(".concat(u,"deg)")}:void 0,_=g(d),C=(0,r.Z)(_,2),w=C[0],k=C[1];return i.createElement("span",Object.assign({role:"img","aria-label":l.name},m,{ref:t,tabIndex:h,onClick:p,className:v}),i.createElement(E,{className:y,icon:l,primaryColor:w,secondaryColor:k,style:b}))}));S.displayName="AntdIcon",S.getTwoToneColor=function(){var e=E.getTwoToneColors();return e.calculated?[e.primaryColor,e.secondaryColor]:e.primaryColor},S.setTwoToneColor=k;const N=S},49101:(e,t,n)=>{"use strict";n.d(t,{Z:()=>l});var r=n(67294);const o={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"defs",attrs:{},children:[{tag:"style",attrs:{}}]},{tag:"path",attrs:{d:"M482 152h60q8 0 8 8v704q0 8-8 8h-60q-8 0-8-8V160q0-8 8-8z"}},{tag:"path",attrs:{d:"M176 474h672q8 0 8 8v60q0 8-8 8H176q-8 0-8-8v-60q0-8 8-8z"}}]},name:"plus",theme:"outlined"};var a=n(30076),i=function(e,t){return r.createElement(a.Z,Object.assign({},e,{ref:t,icon:o}))};i.displayName="PlusOutlined";const l=r.forwardRef(i)},49204:(e,t,n)=>{n(11955)},94504:(e,t,n)=>{n(27794)},89060:(e,t,n)=>{n(32720)},11955:(e,t,n)=>{n(83136),n(34579).parseFloat},27794:(e,t,n)=>{n(87609),n(34579).parseInt},32720:(e,t,n)=>{n(94058),n(91867),n(73871),n(61003),n(48408),n(31749),n(59806),n(34579).Set},29142:e=>{e.exports=function(e,t,n,r){if(!(e instanceof t)||void 0!==r&&r in e)throw TypeError(n+": incorrect invocation!");return e}},37259:(e,t,n)=>{var r=n(45576);e.exports=function(e,t){var n=[];return r(e,!1,n.push,n,t),n}},1523:(e,t,n)=>{var r=n(19216),o=n(50799),a=n(66530),i=n(78728),l=n(87745);e.exports=function(e,t){var n=1==e,s=2==e,c=3==e,u=4==e,f=6==e,p=5==e||f,d=t||l;return function(t,l,m){for(var v,y,h=a(t),g=o(h),b=r(l,m,3),_=i(g.length),C=0,w=n?d(t,_):s?d(t,0):void 0;_>C;C++)if((p||C in g)&&(y=b(v=g[C],C,h),e))if(n)w[C]=y;else if(y)switch(e){case 3:return!0;case 5:return v;case 6:return C;case 2:w.push(v)}else if(u)return!1;return f?-1:c||u?u:w}}},80161:(e,t,n)=>{var r=n(36727),o=n(71421),a=n(22939)("species");e.exports=function(e){var t;return o(e)&&("function"!=typeof(t=e.constructor)||t!==Array&&!o(t.prototype)||(t=void 0),r(t)&&null===(t=t[a])&&(t=void 0)),void 0===t?Array:t}},87745:(e,t,n)=>{var r=n(80161);e.exports=function(e,t){return new(r(e))(t)}},56175:(e,t,n)=>{"use strict";var r=n(4743).f,o=n(98989),a=n(48144),i=n(19216),l=n(29142),s=n(45576),c=n(45700),u=n(85084),f=n(39967),p=n(89666),d=n(77177).fastKey,m=n(20765),v=p?"_s":"size",y=function(e,t){var n,r=d(t);if("F"!==r)return e._i[r];for(n=e._f;n;n=n.n)if(n.k==t)return n};e.exports={getConstructor:function(e,t,n,c){var u=e((function(e,r){l(e,u,t,"_i"),e._t=t,e._i=o(null),e._f=void 0,e._l=void 0,e[v]=0,null!=r&&s(r,n,e[c],e)}));return a(u.prototype,{clear:function(){for(var e=m(this,t),n=e._i,r=e._f;r;r=r.n)r.r=!0,r.p&&(r.p=r.p.n=void 0),delete n[r.i];e._f=e._l=void 0,e[v]=0},delete:function(e){var n=m(this,t),r=y(n,e);if(r){var o=r.n,a=r.p;delete n._i[r.i],r.r=!0,a&&(a.n=o),o&&(o.p=a),n._f==r&&(n._f=o),n._l==r&&(n._l=a),n[v]--}return!!r},forEach:function(e){m(this,t);for(var n,r=i(e,arguments.length>1?arguments[1]:void 0,3);n=n?n.n:this._f;)for(r(n.v,n.k,this);n&&n.r;)n=n.p},has:function(e){return!!y(m(this,t),e)}}),p&&r(u.prototype,"size",{get:function(){return m(this,t)[v]}}),u},def:function(e,t,n){var r,o,a=y(e,t);return a?a.v=n:(e._l=a={i:o=d(t,!0),k:t,v:n,p:r=e._l,n:void 0,r:!1},e._f||(e._f=a),r&&(r.n=a),e[v]++,"F"!==o&&(e._i[o]=a)),e},getEntry:y,setStrong:function(e,t,n){c(e,t,(function(e,n){this._t=m(e,t),this._k=n,this._l=void 0}),(function(){for(var e=this,t=e._k,n=e._l;n&&n.r;)n=n.p;return e._t&&(e._l=n=n?n.n:e._t._f)?u(0,"keys"==t?n.k:"values"==t?n.v:[n.k,n.v]):(e._t=void 0,u(1))}),n?"entries":"values",!n,!0),f(t)}}},61718:(e,t,n)=>{var r=n(14677),o=n(37259);e.exports=function(e){return function(){if(r(this)!=e)throw TypeError(e+"#toJSON isn't generic");return o(this)}}},32269:(e,t,n)=>{"use strict";var r=n(33938),o=n(83856),a=n(77177),i=n(7929),l=n(41818),s=n(48144),c=n(45576),u=n(29142),f=n(36727),p=n(25378),d=n(4743).f,m=n(1523)(0),v=n(89666);e.exports=function(e,t,n,y,h,g){var b=r[e],_=b,C=h?"set":"add",w=_&&_.prototype,E={};return v&&"function"==typeof _&&(g||w.forEach&&!i((function(){(new _).entries().next()})))?(_=t((function(t,n){u(t,_,e,"_c"),t._c=new b,null!=n&&c(n,h,t[C],t)})),m("add,clear,delete,forEach,get,has,set,keys,values,entries,toJSON".split(","),(function(e){var t="add"==e||"set"==e;!(e in w)||g&&"clear"==e||l(_.prototype,e,(function(n,r){if(u(this,_,e),!t&&g&&!f(n))return"get"==e&&void 0;var o=this._c[e](0===n?0:n,r);return t?this:o}))})),g||d(_.prototype,"size",{get:function(){return this._c.size}})):(_=y.getConstructor(t,e,h,C),s(_.prototype,n),a.NEED=!0),p(_,e),E[e]=_,o(o.G+o.W+o.F,E),g||y.setStrong(_,e,h),_}},45576:(e,t,n)=>{var r=n(19216),o=n(95602),a=n(45991),i=n(12159),l=n(78728),s=n(83728),c={},u={},f=e.exports=function(e,t,n,f,p){var d,m,v,y,h=p?function(){return e}:s(e),g=r(n,f,t?2:1),b=0;if("function"!=typeof h)throw TypeError(e+" is not iterable!");if(a(h)){for(d=l(e.length);d>b;b++)if((y=t?g(i(m=e[b])[0],m[1]):g(e[b]))===c||y===u)return y}else for(v=h.call(e);!(m=v.next()).done;)if((y=o(v,g,m.value,t))===c||y===u)return y};f.BREAK=c,f.RETURN=u},19592:(e,t,n)=>{var r=n(33938).parseFloat,o=n(12422).trim;e.exports=1/r(n(59617)+"-0")!=-1/0?function(e){var t=o(String(e),3),n=r(t);return 0===n&&"-"==t.charAt(0)?-0:n}:r},79115:(e,t,n)=>{var r=n(33938).parseInt,o=n(12422).trim,a=n(59617),i=/^[-+]?0[xX]/;e.exports=8!==r(a+"08")||22!==r(a+"0x16")?function(e,t){var n=o(String(e),3);return r(n,t>>>0||(i.test(n)?16:10))}:r},48144:(e,t,n)=>{var r=n(41818);e.exports=function(e,t,n){for(var o in t)n&&e[o]?e[o]=t[o]:r(e,o,t[o]);return e}},6237:(e,t,n)=>{"use strict";var r=n(83856),o=n(85663),a=n(19216),i=n(45576);e.exports=function(e){r(r.S,e,{from:function(e){var t,n,r,l,s=arguments[1];return o(this),(t=void 0!==s)&&o(s),null==e?new this:(n=[],t?(r=0,l=a(s,arguments[2],2),i(e,!1,(function(e){n.push(l(e,r++))}))):i(e,!1,n.push,n),new this(n))}})}},46730:(e,t,n)=>{"use strict";var r=n(83856);e.exports=function(e){r(r.S,e,{of:function(){for(var e=arguments.length,t=new Array(e);e--;)t[e]=arguments[e];return new this(t)}})}},39967:(e,t,n)=>{"use strict";var r=n(33938),o=n(34579),a=n(4743),i=n(89666),l=n(22939)("species");e.exports=function(e){var t="function"==typeof o[e]?o[e]:r[e];i&&t&&!t[l]&&a.f(t,l,{configurable:!0,get:function(){return this}})}},12422:(e,t,n)=>{var r=n(83856),o=n(8333),a=n(7929),i=n(59617),l="["+i+"]",s=RegExp("^"+l+l+"*"),c=RegExp(l+l+"*$"),u=function(e,t,n){var o={},l=a((function(){return!!i[e]()||"​"!="​"[e]()})),s=o[e]=l?t(f):i[e];n&&(o[n]=s),r(r.P+r.F*l,"String",o)},f=u.trim=function(e,t){return e=String(o(e)),1&t&&(e=e.replace(s,"")),2&t&&(e=e.replace(c,"")),e};e.exports=u},59617:e=>{e.exports="\t\n\v\f\r   ᠎             　\u2028\u2029\ufeff"},20765:(e,t,n)=>{var r=n(36727);e.exports=function(e,t){if(!r(e)||e._t!==t)throw TypeError("Incompatible receiver, "+t+" required!");return e}},83136:(e,t,n)=>{var r=n(83856),o=n(19592);r(r.G+r.F*(parseFloat!=o),{parseFloat:o})},87609:(e,t,n)=>{var r=n(83856),o=n(79115);r(r.G+r.F*(parseInt!=o),{parseInt:o})},61003:(e,t,n)=>{"use strict";var r=n(56175),o=n(20765);e.exports=n(32269)("Set",(function(e){return function(){return e(this,arguments.length>0?arguments[0]:void 0)}}),{add:function(e){return r.def(o(this,"Set"),e=0===e?0:e,e)}},r)},59806:(e,t,n)=>{n(6237)("Set")},31749:(e,t,n)=>{n(46730)("Set")},48408:(e,t,n)=>{var r=n(83856);r(r.P+r.R,"Set",{toJSON:n(61718)("Set")})},34046:(e,t,n)=>{"use strict";n.d(t,{Z:()=>y});var r=n(63497),o=n.n(r),a=n(9830),i=n.n(a),l=n(30695),s=n.n(l),c=n(83507),u=n.n(c),f=n(69024),p=n.n(f),d=n(600),m=n.n(d),v=n(67294);var y=function(e){u()(a,e);var t,n,r=(t=a,n=function(){if("undefined"==typeof Reflect||!o())return!1;if(o().sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(o()(Date,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,r=m()(t);if(n){var a=m()(this).constructor;e=o()(r,arguments,a)}else e=r.apply(this,arguments);return p()(this,e)});function a(){return i()(this,a),r.apply(this,arguments)}return s()(a,[{key:"render",value:function(){var e=this.props,t=e.visible,n=e.children,r=t?n:null;return v.createElement(v.Fragment,null,r)}}]),a}(v.PureComponent)},41584:(e,t,n)=>{"use strict";n.d(t,{p$:()=>c,qW:()=>u,xb:()=>f}),n(74720);var r=n(33929),o=n.n(r),a=n(24422),i=n.n(a),l=(n(94504),n(94100),n(94513)),s=n.n(l);function c(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];function n(e,t){return e.filter(t)[0]}if(null===e||"object"!==s()(e))return e;var r=n(t,(function(t){return t.original===e}));if(r)return r.copy;var a=i()(e)?[]:{};return t.push({original:e,copy:a}),o()(e).forEach((function(n){a[n]=c(e[n],t)})),a}n(89060),n(93133),n(49204);var u=function(e,t){return function(n){if(""===n||null==n)return"";var r=e.find((function(e){return e.value==n}));return r?r.label:t||n}};function f(e){return null==e}},85907:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>_});var r,o=n(63497),a=n.n(o),i=n(9830),l=n.n(i),s=n(30695),c=n.n(s),u=n(83507),f=n.n(u),p=n(69024),d=n.n(p),m=n(600),v=n.n(m),y=n(67294),h=n(57016),g=n(71577),b=n(31097);var _=(0,n(16550).EN)(r=function(e){f()(o,e);var t,n,r=(t=o,n=function(){if("undefined"==typeof Reflect||!a())return!1;if(a().sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(a()(Date,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,r=v()(t);if(n){var o=v()(this).constructor;e=a()(r,arguments,o)}else e=r.apply(this,arguments);return d()(this,e)});function o(){var e;l()(this,o);for(var t=arguments.length,n=new Array(t),a=0;a<t;a++)n[a]=arguments[a];return(e=r.call.apply(r,[this].concat(n))).onDelete=function(t,n){t&&t.stopPropagation(),e.props.onDelete(n)},e.linkRolePage=function(t){t.preventDefault(),t.stopPropagation(),h.Z.confirm({title:"提示",content:"设置用户组不会保存当前审批流，确认要去设置用户组吗",cancelText:"取消",okText:"去设置",zIndex:2e3,onOk:function(){e.props.history.replace("/company/roles/index")}})},e.generateMemberEl=function(t,n){if(t.is_empty){var r=y.createElement("div",null,"该用户组下没有成员,",y.createElement(g.Z,{style:{padding:0},type:"link",onClick:e.linkRolePage},"前往设置"));return y.createElement(b.Z,{key:n,placement:"top",title:r},y.createElement("div",{className:"member-box quit"},y.createElement("span",{className:"img-box"},t.uname.substr(0,1)),y.createElement("span",{className:"member-name"},"".concat(t.uname).concat(t.leave?"(已离职)":"").concat(t.is_del?"(已删除)":"")),y.createElement("span",{className:"member-tip-icon"},y.createElement("img",{src:"https://apg-1258944054.cos.ap-guangzhou.myqcloud.com/apg/pc-micro-reimburse/common/%21.png",alt:""})),y.createElement("i",{className:"member-delete",onClick:function(t){e.onDelete(t,n)}})))}return y.createElement("div",{key:n,className:"member-box ".concat(t.leave||t.is_del?"quit":"")},y.createElement("span",{className:"img-box"},t.uname.substr(0,1)),y.createElement("span",{className:"member-name"},"".concat(t.uname).concat(t.leave?"(已离职)":"").concat(t.is_del?"(已删除)":"")),y.createElement("i",{className:"member-delete",onClick:function(t){e.onDelete(t,n)}}))},e}return c()(o,[{key:"render",value:function(){var e=this,t=this.props.members;return y.createElement("div",{className:"selected-member-wrapper",onClick:function(){e.props.showSelector&&e.props.showSelector()}},t.map((function(t,n){return e.generateMemberEl(t,n)})))}}]),o}(y.Component))||r},75238:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>Z});var r=n(63497),o=n.n(r),a=n(74720),i=n.n(a),l=n(9830),s=n.n(l),c=n(30695),u=n.n(c),f=n(83507),p=n.n(f),d=n(69024),m=n.n(d),v=n(600),y=n.n(v),h=n(67294),g=n(41584),b=n(34046),_=n(34041),C=n(48086),w=n(14617),E=n(71577),k=n(85907),S=n(49101),N=n(45724);var x=_.Z.Option,Z=function(e){p()(a,e);var t,n,r=(t=a,n=function(){if("undefined"==typeof Reflect||!o())return!1;if(o().sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(o()(Date,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,r=y()(t);if(n){var a=y()(this).constructor;e=o()(r,arguments,a)}else e=r.apply(this,arguments);return m()(this,e)});function a(e){var t;return s()(this,a),(t=r.call(this,e)).inputRef=(0,h.createRef)(),t.editMemberRef=(0,h.createRef)(),t.submit=function(){var e=t.state.config,n=e.cc_superiors,r=e.users;if(r=r.filter((function(e){return!e.leave})),n&&0!=n.length||r&&0!=r.length){var o={};r&&r.length>0&&(o.users=r),n&&n.length>0&&(o.level_num=n.map((function(e){return e.level_num})).join(",")),t.state.drawerModel.node_value=i()(o),console.log("更新后的节点数据",t.state.drawerModel),t.props.onSubmit(t.state.drawerModel)}else C.ZP.warn("请选择指定成员或者添加指定上级")},t.onTitleBlur=function(){t.setState({titleEditable:!1})},t.onTitleEdit=function(){t.setState({titleEditable:!0},(function(){t.inputRef.current.focus()}))},t.onCloseDrawer=function(){t.props.onCloseDrawer()},t.closeMember=function(){t.setState({memberSelectorVisible:!1})},t.memberSelectorCallback=function(e){var n=t.state.config;e.length>20?C.ZP.warn("最多可添加20个成员"):(n.users=e.map((function(e){return{type:e.type,uid:e.id.toString(),uname:"string"==typeof e.name?e.name:e.name.props.children}})),t.setState({config:n,memberSelectorVisible:!1}))},t.onTitleChange=function(e){t.state.drawerModel.node_name=e.target.value,t.setState({drawerModel:t.state.drawerModel})},t.showMemberSelector=function(){t.setState({memberSelectorVisible:!0}),t.editMemberRef.current.wrappedInstance.setCheck((t.state.config.users||[]).filter((function(e){return!e.leave})))},t.addSuperior=function(){var e=t.state.config.cc_superiors,n=void 0===e?[]:e;n.push({level_num:"1"}),t.state.config.cc_superiors=n,t.setState({config:t.state.config})},t.onSuperiorTypeChange=function(e,n){var r=t.state.config.cc_superiors,o=void 0===r?[]:r;o[n].level_num=e,t.state.config.cc_superiors=o,t.setState({config:t.state.config})},t.deleteCondition=function(e){var n=t.state.config.cc_superiors,r=void 0===n?[]:n;r.splice(e,1),t.state.config.cc_superiors=r,t.setState({config:t.state.config})},t.onDeleteMember=function(e){t.state.config.users.splice(e,1),t.setState({config:t.state.config})},t.initData=function(){if(t.state.drawerModel.node_value){var e=JSON.parse(t.state.drawerModel.node_value);if(console.log("初始化抽屉数据",e),e.level_num){var n=e.level_num.split(","),r=[];n.forEach((function(e){r.push({level_num:e})})),e.cc_superiors=r}t.setState({config:e})}},t.state={drawerModel:(0,g.p$)(t.props.drawerData),titleEditable:!1,treeData:[],config:{}},t}return u()(a,[{key:"componentDidMount",value:function(){this.initData()}},{key:"render",value:function(){var e=this,t=this.state,n=t.titleEditable,r=t.drawerModel,o=(t.treeData,t.memberSelectorVisible,t.config);return h.createElement("div",{style:{height:"100vh",position:"relative"}},h.createElement("div",{className:"drawer-header"},h.createElement(b.Z,{visible:!n},h.createElement("span",{className:"edit-title"},r.node_name),h.createElement("span",{className:"edit-icon",onClick:this.onTitleEdit,style:{marginLeft:10}})),h.createElement(b.Z,{visible:n},h.createElement(w.Z,{maxLength:20,value:r.node_name,ref:this.inputRef,onChange:this.onTitleChange,onBlur:this.onTitleBlur,style:{width:300}}))),h.createElement("div",{className:"drawer-content-wrapper"},h.createElement("h1",{className:"drawer-title"},"指定成员：",h.createElement("span",{className:"sub-title"},"（可抄送成员）")),h.createElement(b.Z,{visible:o.users&&o.users.length>0},h.createElement(k.default,{showSelector:this.showMemberSelector,onDelete:this.onDeleteMember,members:o.users})),h.createElement(E.Z,{onClick:this.showMemberSelector,type:"primary",className:"drawer-add-notify-member"},h.createElement(S.Z,{className:"drawer-add-member-icon"})," 添加"),h.createElement("h1",{className:"drawer-title"},"指定上级：",h.createElement("span",{className:"sub-title"},"（可抄送指定层级上单）")),o.cc_superiors&&o.cc_superiors.map((function(t,n){return h.createElement("div",{key:n,className:"notify-drawer-appoint-superiors"},h.createElement(_.Z,{value:t.level_num||"1",onChange:function(t){e.onSuperiorTypeChange(t,n)}},N.w9.map((function(e){return h.createElement(x,{key:e.value,value:e.value},e.label)}))),h.createElement("span",{className:"condition-edit-close",onClick:function(){e.deleteCondition(n)}}))})),h.createElement(E.Z,{onClick:this.addSuperior,type:"primary",className:"drawer-add-notify-condition"},h.createElement(S.Z,null)," 添加上级")),h.createElement("div",{className:"button-bar"},h.createElement(E.Z,{type:"primary",onClick:function(){e.submit()}},"确定"),h.createElement(E.Z,{onClick:this.onCloseDrawer},"取消")))}}]),a}(h.Component)},45724:(e,t,n)=>{"use strict";n.d(t,{WD:()=>i,KT:()=>l,xV:()=>s,ux:()=>c,Oh:()=>u,PC:()=>f,k0:()=>p,dA:()=>d,Dw:()=>m,d:()=>v,EN:()=>y,MZ:()=>h,EZ:()=>g,yl:()=>b,du:()=>_,y5:()=>C,ok:()=>w,lf:()=>E,w9:()=>k,LI:()=>S,l9:()=>N,Fr:()=>x,Al:()=>Z,Bc:()=>T,lt:()=>D,w7:()=>O,NY:()=>R,l2:()=>M,j4:()=>P,Bv:()=>A,S_:()=>L,zH:()=>I,ve:()=>V,xG:()=>j,J_:()=>q});var r=n(74720),o=n.n(r),a=function(e){e=e||32;for(var t="ABCDEFGHJKMNPQRSTWXYZabcdefhijkmnprstwxyz2345678",n=t.length,r="",o=0;o<e;o++)r+=t.charAt(Math.floor(Math.random()*n));return r},i="APPLICANT_NODE",l="ROUTER_NODE",s="END",c=1,u=3,f=4,p=5,d=6,m=1,v=3,y=2,h=4,g=[m,y,h],b=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:v,t={user_type:e};return e===y&&(t.level_num="3",t.level_type=1),{node_type:c,key:a(),node_name:"主管审批",child_nodes:[],node_option:"",node_value:o()(t)}},_=function(){return{node_type:u,key:a(),node_name:"财务审核",child_nodes:[],node_option:"",node_value:o()({user_type:1,sign_method:2})}},C=function(){return{node_type:p,key:a(),node_name:"抄送人",child_nodes:[],node_option:"",node_value:o()({})}},w=function(){return{node_type:f,key:a(),node_name:"出纳支付",child_nodes:[],node_option:"",node_value:o()({user_type:1,pay_status:1})}},E=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"条件1",n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"优先级1",r=arguments.length>3&&void 0!==arguments[3]&&arguments[3],o="";return{node_type:d,child_nodes:e,key:a(),node_name:t,node_option:n,node_value:o,default:r}},k=[{label:"直接主管",value:"1"},{label:"第2级主管",value:"2"},{label:"第3级主管",value:"3"},{label:"第4级主管",value:"4"},{label:"第5级主管",value:"5"},{label:"第6级主管",value:"6"},{label:"第7级主管",value:"7"},{label:"第8级主管",value:"8"}],S=[{label:"最高层级主管",value:"1"},{label:"第2个层级主管",value:"2"},{label:"第3个层级主管",value:"3"},{label:"第4个层级主管",value:"4"},{label:"第5个层级主管",value:"5"},{label:"第6个层级主管",value:"6"},{label:"第7个层级主管",value:"7"},{label:"第8个层级主管",value:"8"}],N=1,x=2,Z=3,T=4,D=5,O=6,R=7,M=8,P=9,A=10,L=[{label:"申请人",value:N,template_types:"ALL",field:"commiter"},{label:"费用部门",value:x,template_types:"ALL",field:"department"},{label:"公司抬头",value:Z,template_types:"ALL",field:"title"},{label:"报销金额",value:T,template_types:[1],field:"amount"},{label:"招待金额",value:T,template_types:[2],field:"amount"},{label:"付款金额",value:T,template_types:[4]},{label:"借款金额",value:T,template_types:[3],field:"amount"},{label:"出行方式",value:O,template_types:[2],field:"trans_way"},{label:"出行类型",value:R,template_types:[2],field:"travel_type"},{label:"费用类型",value:D,template_types:[1,4]},{label:"办公地点",value:M,template_types:"ALL"},{label:"出差时长",value:P,template_types:[2]},{label:"用户组",value:A,template_types:"ALL"}],I=[{label:"属于",value:1},{label:"不属于",value:2}],V=[{label:"包含",value:9},{label:"不包含",value:10}],j=8,q=[{label:"大于",value:3},{label:"大于等于",value:4},{label:"等于",value:5},{label:"小于",value:7},{label:"小于等于",value:6},{label:"介于",value:j}]},51472:(e,t,n)=>{"use strict";n.d(t,{Z:()=>u});var r=n(90484),o=n(28991),a=n(81253),i=n(67294),l=n(63533),s=n(43159);const c=function(e){var t=e.overlay,n=e.prefixCls,r=e.id,o=e.overlayInnerStyle;return i.createElement("div",{className:"".concat(n,"-inner"),id:r,role:"tooltip",style:o},"function"==typeof t?t():t)},u=(0,i.forwardRef)((function(e,t){var n=e.overlayClassName,u=e.trigger,f=void 0===u?["hover"]:u,p=e.mouseEnterDelay,d=void 0===p?0:p,m=e.mouseLeaveDelay,v=void 0===m?.1:m,y=e.overlayStyle,h=e.prefixCls,g=void 0===h?"rc-tooltip":h,b=e.children,_=e.onVisibleChange,C=e.afterVisibleChange,w=e.transitionName,E=e.animation,k=e.placement,S=void 0===k?"right":k,N=e.align,x=void 0===N?{}:N,Z=e.destroyTooltipOnHide,T=void 0!==Z&&Z,D=e.defaultVisible,O=e.getTooltipContainer,R=e.overlayInnerStyle,M=(0,a.Z)(e,["overlayClassName","trigger","mouseEnterDelay","mouseLeaveDelay","overlayStyle","prefixCls","children","onVisibleChange","afterVisibleChange","transitionName","animation","placement","align","destroyTooltipOnHide","defaultVisible","getTooltipContainer","overlayInnerStyle"]),P=(0,i.useRef)(null);(0,i.useImperativeHandle)(t,(function(){return P.current}));var A=(0,o.Z)({},M);"visible"in e&&(A.popupVisible=e.visible);var L=!1,I=!1;if("boolean"==typeof T)L=T;else if(T&&"object"===(0,r.Z)(T)){var V=T.keepParent;L=!0===V,I=!1===V}return i.createElement(l.Z,Object.assign({popupClassName:n,prefixCls:g,popup:function(){var t=e.arrowContent,n=void 0===t?null:t,r=e.overlay,o=e.id;return[i.createElement("div",{className:"".concat(g,"-arrow"),key:"arrow"},n),i.createElement(c,{key:"content",prefixCls:g,id:o,overlay:r,overlayInnerStyle:R})]},action:f,builtinPlacements:s.C,popupPlacement:S,ref:P,popupAlign:x,getPopupContainer:O,onPopupVisibleChange:_,afterPopupVisibleChange:C,popupTransitionName:w,popupAnimation:E,defaultPopupVisible:D,destroyPopupOnHide:L,autoDestroy:I,mouseLeaveDelay:v,popupStyle:y,mouseEnterDelay:d},A),b)}))},43159:(e,t,n)=>{"use strict";n.d(t,{C:()=>a});var r={adjustX:1,adjustY:1},o=[0,0],a={left:{points:["cr","cl"],overflow:r,offset:[-4,0],targetOffset:o},right:{points:["cl","cr"],overflow:r,offset:[4,0],targetOffset:o},top:{points:["bc","tc"],overflow:r,offset:[0,-4],targetOffset:o},bottom:{points:["tc","bc"],overflow:r,offset:[0,4],targetOffset:o},topLeft:{points:["bl","tl"],overflow:r,offset:[0,-4],targetOffset:o},leftTop:{points:["tr","tl"],overflow:r,offset:[-4,0],targetOffset:o},topRight:{points:["br","tr"],overflow:r,offset:[0,-4],targetOffset:o},rightTop:{points:["tl","tr"],overflow:r,offset:[4,0],targetOffset:o},bottomRight:{points:["tr","br"],overflow:r,offset:[0,4],targetOffset:o},rightBottom:{points:["bl","br"],overflow:r,offset:[4,0],targetOffset:o},bottomLeft:{points:["tl","bl"],overflow:r,offset:[0,4],targetOffset:o},leftBottom:{points:["br","bl"],overflow:r,offset:[-4,0],targetOffset:o}}}}]);