(self.webpackChunkreact_webpack=self.webpackChunkreact_webpack||[]).push([[739],{29530:(e,n,t)=>{"use strict";t.d(n,{Z:()=>s});var a={transitionstart:{transition:"transitionstart",WebkitTransition:"webkitTransitionStart",MozTransition:"mozTransitionStart",OTransition:"oTransitionStart",msTransition:"MSTransitionStart"},animationstart:{animation:"animationstart",WebkitAnimation:"webkitAnimationStart",MozAnimation:"mozAnimationStart",OAnimation:"oAnimationStart",msAnimation:"MSAnimationStart"}},l={transitionend:{transition:"transitionend",WebkitTransition:"webkitTransitionEnd",MozTransition:"mozTransitionEnd",OTransition:"oTransitionEnd",msTransition:"MSTransitionEnd"},animationend:{animation:"animationend",WebkitAnimation:"webkitAnimationEnd",MozAnimation:"mozAnimationEnd",OAnimation:"oAnimationEnd",msAnimation:"MSAnimationEnd"}},i=[],o=[];function r(e,n,t){e.addEventListener(n,t,!1)}function c(e,n,t){e.removeEventListener(n,t,!1)}"undefined"!=typeof window&&"undefined"!=typeof document&&function(){var e=document.createElement("div").style;function n(n,t){for(var a in n)if(n.hasOwnProperty(a)){var l=n[a];for(var i in l)if(i in e){t.push(l[i]);break}}}"AnimationEvent"in window||(delete a.animationstart.animation,delete l.animationend.animation),"TransitionEvent"in window||(delete a.transitionstart.transition,delete l.transitionend.transition),n(a,i),n(l,o)}();const s={startEvents:i,addStartEventListener:function(e,n){0!==i.length?i.forEach((function(t){r(e,t,n)})):window.setTimeout(n,0)},removeStartEventListener:function(e,n){0!==i.length&&i.forEach((function(t){c(e,t,n)}))},endEvents:o,addEndEventListener:function(e,n){0!==o.length?o.forEach((function(t){r(e,t,n)})):window.setTimeout(n,0)},removeEndEventListener:function(e,n){0!==o.length&&o.forEach((function(t){c(e,t,n)}))}}},34046:(e,n,t)=>{"use strict";t.d(n,{Z:()=>b});var a=t(63497),l=t.n(a),i=t(9830),o=t.n(i),r=t(30695),c=t.n(r),s=t(83507),u=t.n(s),m=t(69024),d=t.n(m),v=t(600),p=t.n(v),f=t(67294);var b=function(e){u()(i,e);var n,t,a=(n=i,t=function(){if("undefined"==typeof Reflect||!l())return!1;if(l().sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(l()(Date,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,a=p()(n);if(t){var i=p()(this).constructor;e=l()(a,arguments,i)}else e=a.apply(this,arguments);return d()(this,e)});function i(){return o()(this,i),a.apply(this,arguments)}return c()(i,[{key:"render",value:function(){var e=this.props,n=e.visible,t=e.children,a=n?t:null;return f.createElement(f.Fragment,null,a)}}]),i}(f.PureComponent)},71621:(e,n,t)=>{"use strict";t.r(n),t.d(n,{default:()=>x});var a=t(58548),l=t.n(a),i=t(78829),o=t.n(i),r=t(51765),c=t.n(r),s=t(93287),u=t.n(s),m=t(24309),d=t.n(m),v=t(33929),p=t.n(v),f=t(69984),b=t.n(f),y=t(48550),h=t.n(y),E=t(67294),_=t(75837),w=t(34041),g=t(14617),T=t(34046),k=t(80129),A=t.n(k),Z=t(45724);function N(e,n){var t=p()(e);if(d()){var a=d()(e);n&&(a=a.filter((function(n){return u()(e,n).enumerable}))),t.push.apply(t,a)}return t}function S(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?N(Object(t),!0).forEach((function(n){b()(e,n,t[n])})):c()?o()(e,c()(t)):N(Object(t)).forEach((function(n){l()(e,n,u()(t,n))}))}return e}var L=_.Z.TreeNode,C=w.Z.Option;const x=function(e){var n=e.value,t=void 0===n?{}:n,a=e.onChange,l=e.showMemberSelector,i=e.index,o=e.showRoleSelector,r=e.showInvoiceSelector,c=e.parentFields,s=e.showFeeTypeSelector,u=e.showDepartSelector,m=e.showTravelTypeSelector,d=e.showTravelModeSelector,v=e.cityConfigList,p=e.conditionLabelMap,f=(0,E.useState)(t.relation),b=h()(f,2),y=b[0],k=b[1],N=(0,E.useState)(t.conditionType),x=h()(N,2),D=x[0],M=x[1],z=(0,E.useState)(t.startAmount),O=h()(z,2),F=O[0],j=O[1],P=(0,E.useState)(t.endAmount),R=h()(P,2),q=R[0],B=R[1],W=(0,E.useState)(t.officeLocationData),H=h()(W,2),J=H[0],Y=H[1],G=[];switch(t.conditionType){case Z.l9:case Z.Fr:case Z.Al:case Z.l2:case Z.NY:case Z.Bv:G=Z.zH;break;case Z.lt:case Z.w7:G=Z.ve;break;case Z.j4:default:G=Z.J_}var I=(0,E.useState)(G),K=h()(I,2),Q=K[0],U=K[1],V=t.members,X=void 0===V?[]:V,$=t.roles,ee=void 0===$?[]:$,ne=t.departs,te=void 0===ne?[]:ne,ae=t.titles,le=void 0===ae?[]:ae,ie=t.feeData,oe=void 0===ie?[]:ie,re=t.travelModeData,ce=void 0===re?[]:re,se=t.travelTypeData,ue=void 0===se?[]:se,me=A().parse(window.location.search,{ignoreQueryPrefix:!0}).doc_tmpl_type,de=Z.S_.filter((function(e){return"ALL"===e.template_types||e.template_types.includes(+me)}));(0,E.useEffect)((function(){var e;(function(e){if(null==e)return!0})(D)||(e={conditionType:D,relation:y,officeLocationData:J,startAmount:F,endAmount:q},a&&a(S(S({conditionType:D,relation:y},t),e)))}),[D,y,J,F,q]);var ve=function(e){j(e.target.value)},pe=function e(n){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",a=[];return n.length>0&&n.forEach((function(n){n.child?a.push(E.createElement(L,{isLeaf:!1,selectable:!1,value:"".concat(t,"|").concat(n.name),key:"".concat(n.name,"parent"),title:n.name},e(n.child,n.name))):a.push(E.createElement(L,{isLeaf:!0,value:"".concat(t,"|").concat(n.name),key:"".concat(n.name,"child"),title:n.name}))})),a}(v);return E.createElement("span",{className:"condition-edit-wrap",style:{display:"flex"}},E.createElement(w.Z,{value:t.conditionType||D,placeholder:"请选择条件",onChange:function(e){switch(M(e),e){case Z.l9:case Z.Fr:case Z.Al:case Z.l2:case Z.NY:case Z.Bv:U(Z.zH),k(Z.zH[0].value);break;case Z.lt:case Z.w7:U(Z.ve),k(Z.ve[0].value);break;case Z.j4:default:U(Z.J_),k(Z.J_[0].value)}j(null),B(null)},className:"condition-type-select"},de.map((function(e){return E.createElement(C,{value:e.value,key:e.value,disabled:c.includes(e.value)},p[e.field]||e.label)}))),E.createElement(T.Z,{visible:void 0!==t.conditionType&&null!==t.conditionType},E.createElement(w.Z,{value:t.relation||y,className:"condition-relation-select",onChange:function(e){k(e)}},Q.map((function(e){return E.createElement(C,{value:e.value,key:e.value},e.label)})))),E.createElement(T.Z,{visible:t.conditionType===Z.l9},E.createElement("div",{className:"condition-edit-mem-sel",onClick:function(){l(X,i)}},E.createElement(T.Z,{visible:X.length>0},E.createElement("div",null,X.map((function(e){return E.createElement("span",{className:"condition-edit-member-styl",key:e.id},E.createElement("span",{className:"condition-edit-item-content ".concat(e.leave?"quit":"")},"".concat(e.name).concat(e.leave?"(已离职)":"")))})))),E.createElement(T.Z,{visible:0===X.length},"添加成员+"))),E.createElement(T.Z,{visible:t.conditionType===Z.Bv},E.createElement("div",{className:"condition-edit-mem-sel",onClick:function(){o(i)}},E.createElement(T.Z,{visible:ee.length>0},E.createElement("div",null,ee.map((function(e){return E.createElement("span",{className:"condition-edit-member-styl",key:e.role_id},E.createElement("span",{className:"condition-edit-item-content ".concat(e.is_del?"quit":"")},"".concat(e.role_name).concat(e.is_del?"(已删除)":"")))})))),E.createElement(T.Z,{visible:0===ee.length},"添加+"))),E.createElement(T.Z,{visible:t.conditionType===Z.Fr},E.createElement("div",{className:"condition-edit-mem-sel",onClick:function(){u(te,i)}},E.createElement(T.Z,{visible:te.length>0},E.createElement("div",null,te.map((function(e){return E.createElement("span",{className:"condition-edit-member-styl",key:e.id},e.name)})))),E.createElement(T.Z,{visible:0===te.length},"添加部门+"))),E.createElement(T.Z,{visible:t.conditionType===Z.Al},E.createElement("div",{className:"condition-edit-mem-sel",onClick:function(){r(le,i)}},E.createElement(T.Z,{visible:le.length>0},E.createElement("div",null,le.map((function(e){return E.createElement("span",{className:"condition-edit-member-styl",key:e.enterprise_title_id},e.enterprise_name)})))),E.createElement(T.Z,{visible:0===le.length},"选择公司抬头+"))),E.createElement(T.Z,{visible:t.conditionType===Z.lt},E.createElement("div",{className:"condition-edit-mem-sel",onClick:function(){s(oe,i)}},E.createElement(T.Z,{visible:oe.length>0},E.createElement("div",null,oe.map((function(e){return E.createElement("span",{className:"condition-edit-member-styl",key:e.fee_type},e.fee_name)})))),E.createElement(T.Z,{visible:0===oe.length},"选择费用类型+"))),E.createElement(T.Z,{visible:t.conditionType===Z.w7},E.createElement("div",{className:"condition-edit-mem-sel",onClick:function(){d(ce,i)}},E.createElement(T.Z,{visible:ce.length>0},E.createElement("div",null,ce.map((function(e){return E.createElement("span",{className:"condition-edit-member-styl",key:e.value},e.label)})))),E.createElement(T.Z,{visible:0===ce.length},"选择出行方式+"))),E.createElement(T.Z,{visible:t.conditionType===Z.NY},E.createElement("div",{className:"condition-edit-mem-sel",onClick:function(){m(ue,i)}},E.createElement(T.Z,{visible:ue.length>0},E.createElement("div",null,ue.map((function(e){return E.createElement("span",{className:"condition-edit-member-styl",key:e.value},e.label)})))),E.createElement(T.Z,{visible:0===ue.length},"选择出行类型+"))),E.createElement(T.Z,{visible:t.conditionType===Z.l2},E.createElement(_.Z,{placeholder:"请选择办公地点",multiple:!0,style:{flex:1},value:J,onChange:function(e,n,t){Y(e),console.log(J),console.log(e,n,t)}},pe)),E.createElement(T.Z,{visible:function(e){switch(e){case Z.Bc:case Z.j4:return!0;default:return!1}}(t.conditionType)},E.createElement("div",{style:{flex:1}},E.createElement(T.Z,{visible:t.relation!==Z.xG},E.createElement(g.Z,{className:"single-input",placeholder:t.conditionType===Z.j4?"出差时长（小时）":null,type:"number",value:t.startAmount||F,onChange:ve})),E.createElement(T.Z,{visible:t.relation===Z.xG},E.createElement(g.Z,{className:"double-input-inline",placeholder:t.conditionType===Z.j4?"出差时长（小时）":null,type:"number",value:t.startAmount||F,onChange:ve}),E.createElement("span",{className:"input-split"},"-"),E.createElement(g.Z,{className:"double-input-inline",placeholder:t.conditionType===Z.j4?"出差时长（小时）":null,type:"number",value:t.endAmount||q,onChange:function(e){B(e.target.value)}})))))}},45724:(e,n,t)=>{"use strict";t.d(n,{WD:()=>o,KT:()=>r,xV:()=>c,ux:()=>s,Oh:()=>u,PC:()=>m,k0:()=>d,dA:()=>v,Dw:()=>p,d:()=>f,EN:()=>b,MZ:()=>y,EZ:()=>h,yl:()=>E,du:()=>_,y5:()=>w,ok:()=>g,lf:()=>T,w9:()=>k,LI:()=>A,l9:()=>Z,Fr:()=>N,Al:()=>S,Bc:()=>L,lt:()=>C,w7:()=>x,NY:()=>D,l2:()=>M,j4:()=>z,Bv:()=>O,S_:()=>F,zH:()=>j,ve:()=>P,xG:()=>R,J_:()=>q});var a=t(74720),l=t.n(a),i=function(e){e=e||32;for(var n="ABCDEFGHJKMNPQRSTWXYZabcdefhijkmnprstwxyz2345678",t=n.length,a="",l=0;l<e;l++)a+=n.charAt(Math.floor(Math.random()*t));return a},o="APPLICANT_NODE",r="ROUTER_NODE",c="END",s=1,u=3,m=4,d=5,v=6,p=1,f=3,b=2,y=4,h=[p,b,y],E=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:f,n={user_type:e};return e===b&&(n.level_num="3",n.level_type=1),{node_type:s,key:i(),node_name:"主管审批",child_nodes:[],node_option:"",node_value:l()(n)}},_=function(){return{node_type:u,key:i(),node_name:"财务审核",child_nodes:[],node_option:"",node_value:l()({user_type:1,sign_method:2})}},w=function(){return{node_type:d,key:i(),node_name:"抄送人",child_nodes:[],node_option:"",node_value:l()({})}},g=function(){return{node_type:m,key:i(),node_name:"出纳支付",child_nodes:[],node_option:"",node_value:l()({user_type:1,pay_status:1})}},T=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"条件1",t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"优先级1",a=arguments.length>3&&void 0!==arguments[3]&&arguments[3],l="";return{node_type:v,child_nodes:e,key:i(),node_name:n,node_option:t,node_value:l,default:a}},k=[{label:"直接主管",value:"1"},{label:"第2级主管",value:"2"},{label:"第3级主管",value:"3"},{label:"第4级主管",value:"4"},{label:"第5级主管",value:"5"},{label:"第6级主管",value:"6"},{label:"第7级主管",value:"7"},{label:"第8级主管",value:"8"}],A=[{label:"最高层级主管",value:"1"},{label:"第2个层级主管",value:"2"},{label:"第3个层级主管",value:"3"},{label:"第4个层级主管",value:"4"},{label:"第5个层级主管",value:"5"},{label:"第6个层级主管",value:"6"},{label:"第7个层级主管",value:"7"},{label:"第8个层级主管",value:"8"}],Z=1,N=2,S=3,L=4,C=5,x=6,D=7,M=8,z=9,O=10,F=[{label:"申请人",value:Z,template_types:"ALL",field:"commiter"},{label:"费用部门",value:N,template_types:"ALL",field:"department"},{label:"公司抬头",value:S,template_types:"ALL",field:"title"},{label:"报销金额",value:L,template_types:[1],field:"amount"},{label:"招待金额",value:L,template_types:[2],field:"amount"},{label:"付款金额",value:L,template_types:[4]},{label:"借款金额",value:L,template_types:[3],field:"amount"},{label:"出行方式",value:x,template_types:[2],field:"trans_way"},{label:"出行类型",value:D,template_types:[2],field:"travel_type"},{label:"费用类型",value:C,template_types:[1,4]},{label:"办公地点",value:M,template_types:"ALL"},{label:"出差时长",value:z,template_types:[2]},{label:"用户组",value:O,template_types:"ALL"}],j=[{label:"属于",value:1},{label:"不属于",value:2}],P=[{label:"包含",value:9},{label:"不包含",value:10}],R=8,q=[{label:"大于",value:3},{label:"大于等于",value:4},{label:"等于",value:5},{label:"小于",value:7},{label:"小于等于",value:6},{label:"介于",value:R}]},75:function(e){(function(){var n,t,a,l,i,o;"undefined"!=typeof performance&&null!==performance&&performance.now?e.exports=function(){return performance.now()}:"undefined"!=typeof process&&null!==process&&process.hrtime?(e.exports=function(){return(n()-i)/1e6},t=process.hrtime,l=(n=function(){var e;return 1e9*(e=t())[0]+e[1]})(),o=1e9*process.uptime(),i=l-o):Date.now?(e.exports=function(){return Date.now()-a},a=Date.now()):(e.exports=function(){return(new Date).getTime()-a},a=(new Date).getTime())}).call(this)},54087:(e,n,t)=>{for(var a=t(75),l="undefined"==typeof window?t.g:window,i=["moz","webkit"],o="AnimationFrame",r=l["request"+o],c=l["cancel"+o]||l["cancelRequest"+o],s=0;!r&&s<i.length;s++)r=l[i[s]+"Request"+o],c=l[i[s]+"Cancel"+o]||l[i[s]+"CancelRequest"+o];if(!r||!c){var u=0,m=0,d=[];r=function(e){if(0===d.length){var n=a(),t=Math.max(0,16.666666666666668-(n-u));u=t+n,setTimeout((function(){var e=d.slice(0);d.length=0;for(var n=0;n<e.length;n++)if(!e[n].cancelled)try{e[n].callback(u)}catch(e){setTimeout((function(){throw e}),0)}}),Math.round(t))}return d.push({handle:++m,callback:e,cancelled:!1}),m},c=function(e){for(var n=0;n<d.length;n++)d[n].handle===e&&(d[n].cancelled=!0)}}e.exports=function(e){return r.call(l,e)},e.exports.cancel=function(){c.apply(l,arguments)},e.exports.polyfill=function(e){e||(e=l),e.requestAnimationFrame=r,e.cancelAnimationFrame=c}}}]);