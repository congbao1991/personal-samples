(self.webpackChunkreact_webpack=self.webpackChunkreact_webpack||[]).push([[1595],{34046:(e,t,l)=>{"use strict";l.d(t,{Z:()=>f});var n=l(63497),a=l.n(n),i=l(9830),c=l.n(i),o=l(30695),r=l.n(o),u=l(83507),s=l.n(u),m=l(69024),d=l.n(m),v=l(600),p=l.n(v),b=l(67294);var f=function(e){s()(i,e);var t,l,n=(t=i,l=function(){if("undefined"==typeof Reflect||!a())return!1;if(a().sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(a()(Date,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,n=p()(t);if(l){var i=p()(this).constructor;e=a()(n,arguments,i)}else e=n.apply(this,arguments);return d()(this,e)});function i(){return c()(this,i),n.apply(this,arguments)}return r()(i,[{key:"render",value:function(){var e=this.props,t=e.visible,l=e.children,n=t?l:null;return b.createElement(b.Fragment,null,n)}}]),i}(b.PureComponent)},71621:(e,t,l)=>{"use strict";l.r(t),l.d(t,{default:()=>D});var n=l(58548),a=l.n(n),i=l(78829),c=l.n(i),o=l(51765),r=l.n(o),u=l(93287),s=l.n(u),m=l(24309),d=l.n(m),v=l(33929),p=l.n(v),b=l(69984),f=l.n(b),y=l(48550),h=l.n(y),E=l(67294),_=l(75837),g=l(34041),Z=l(14617),k=l(34046),N=l(80129),T=l.n(N),w=l(45724);function A(e,t){var l=p()(e);if(d()){var n=d()(e);t&&(n=n.filter((function(t){return s()(e,t).enumerable}))),l.push.apply(l,n)}return l}function C(e){for(var t=1;t<arguments.length;t++){var l=null!=arguments[t]?arguments[t]:{};t%2?A(Object(l),!0).forEach((function(t){f()(e,t,l[t])})):r()?c()(e,r()(l)):A(Object(l)).forEach((function(t){a()(e,t,s()(l,t))}))}return e}var L=_.Z.TreeNode,S=g.Z.Option;const D=function(e){var t=e.value,l=void 0===t?{}:t,n=e.onChange,a=e.showMemberSelector,i=e.index,c=e.showRoleSelector,o=e.showInvoiceSelector,r=e.parentFields,u=e.showFeeTypeSelector,s=e.showDepartSelector,m=e.showTravelTypeSelector,d=e.showTravelModeSelector,v=e.cityConfigList,p=e.conditionLabelMap,b=(0,E.useState)(l.relation),f=h()(b,2),y=f[0],N=f[1],A=(0,E.useState)(l.conditionType),D=h()(A,2),x=D[0],j=D[1],F=(0,E.useState)(l.startAmount),M=h()(F,2),B=M[0],O=M[1],P=(0,E.useState)(l.endAmount),z=h()(P,2),H=z[0],J=z[1],R=(0,E.useState)(l.officeLocationData),Y=h()(R,2),G=Y[0],I=Y[1],q=[];switch(l.conditionType){case w.l9:case w.Fr:case w.Al:case w.l2:case w.NY:case w.Bv:q=w.zH;break;case w.lt:case w.w7:q=w.ve;break;case w.j4:default:q=w.J_}var K=(0,E.useState)(q),Q=h()(K,2),W=Q[0],U=Q[1],V=l.members,X=void 0===V?[]:V,$=l.roles,ee=void 0===$?[]:$,te=l.departs,le=void 0===te?[]:te,ne=l.titles,ae=void 0===ne?[]:ne,ie=l.feeData,ce=void 0===ie?[]:ie,oe=l.travelModeData,re=void 0===oe?[]:oe,ue=l.travelTypeData,se=void 0===ue?[]:ue,me=T().parse(window.location.search,{ignoreQueryPrefix:!0}).doc_tmpl_type,de=w.S_.filter((function(e){return"ALL"===e.template_types||e.template_types.includes(+me)}));(0,E.useEffect)((function(){var e;(function(e){if(null==e)return!0})(x)||(e={conditionType:x,relation:y,officeLocationData:G,startAmount:B,endAmount:H},n&&n(C(C({conditionType:x,relation:y},l),e)))}),[x,y,G,B,H]);var ve=function(e){O(e.target.value)},pe=function e(t){var l=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",n=[];return t.length>0&&t.forEach((function(t){t.child?n.push(E.createElement(L,{isLeaf:!1,selectable:!1,value:"".concat(l,"|").concat(t.name),key:"".concat(t.name,"parent"),title:t.name},e(t.child,t.name))):n.push(E.createElement(L,{isLeaf:!0,value:"".concat(l,"|").concat(t.name),key:"".concat(t.name,"child"),title:t.name}))})),n}(v);return E.createElement("span",{className:"condition-edit-wrap",style:{display:"flex"}},E.createElement(g.Z,{value:l.conditionType||x,placeholder:"请选择条件",onChange:function(e){switch(j(e),e){case w.l9:case w.Fr:case w.Al:case w.l2:case w.NY:case w.Bv:U(w.zH),N(w.zH[0].value);break;case w.lt:case w.w7:U(w.ve),N(w.ve[0].value);break;case w.j4:default:U(w.J_),N(w.J_[0].value)}O(null),J(null)},className:"condition-type-select"},de.map((function(e){return E.createElement(S,{value:e.value,key:e.value,disabled:r.includes(e.value)},p[e.field]||e.label)}))),E.createElement(k.Z,{visible:void 0!==l.conditionType&&null!==l.conditionType},E.createElement(g.Z,{value:l.relation||y,className:"condition-relation-select",onChange:function(e){N(e)}},W.map((function(e){return E.createElement(S,{value:e.value,key:e.value},e.label)})))),E.createElement(k.Z,{visible:l.conditionType===w.l9},E.createElement("div",{className:"condition-edit-mem-sel",onClick:function(){a(X,i)}},E.createElement(k.Z,{visible:X.length>0},E.createElement("div",null,X.map((function(e){return E.createElement("span",{className:"condition-edit-member-styl",key:e.id},E.createElement("span",{className:"condition-edit-item-content ".concat(e.leave?"quit":"")},"".concat(e.name).concat(e.leave?"(已离职)":"")))})))),E.createElement(k.Z,{visible:0===X.length},"添加成员+"))),E.createElement(k.Z,{visible:l.conditionType===w.Bv},E.createElement("div",{className:"condition-edit-mem-sel",onClick:function(){c(i)}},E.createElement(k.Z,{visible:ee.length>0},E.createElement("div",null,ee.map((function(e){return E.createElement("span",{className:"condition-edit-member-styl",key:e.role_id},E.createElement("span",{className:"condition-edit-item-content ".concat(e.is_del?"quit":"")},"".concat(e.role_name).concat(e.is_del?"(已删除)":"")))})))),E.createElement(k.Z,{visible:0===ee.length},"添加+"))),E.createElement(k.Z,{visible:l.conditionType===w.Fr},E.createElement("div",{className:"condition-edit-mem-sel",onClick:function(){s(le,i)}},E.createElement(k.Z,{visible:le.length>0},E.createElement("div",null,le.map((function(e){return E.createElement("span",{className:"condition-edit-member-styl",key:e.id},e.name)})))),E.createElement(k.Z,{visible:0===le.length},"添加部门+"))),E.createElement(k.Z,{visible:l.conditionType===w.Al},E.createElement("div",{className:"condition-edit-mem-sel",onClick:function(){o(ae,i)}},E.createElement(k.Z,{visible:ae.length>0},E.createElement("div",null,ae.map((function(e){return E.createElement("span",{className:"condition-edit-member-styl",key:e.enterprise_title_id},e.enterprise_name)})))),E.createElement(k.Z,{visible:0===ae.length},"选择公司抬头+"))),E.createElement(k.Z,{visible:l.conditionType===w.lt},E.createElement("div",{className:"condition-edit-mem-sel",onClick:function(){u(ce,i)}},E.createElement(k.Z,{visible:ce.length>0},E.createElement("div",null,ce.map((function(e){return E.createElement("span",{className:"condition-edit-member-styl",key:e.fee_type},e.fee_name)})))),E.createElement(k.Z,{visible:0===ce.length},"选择费用类型+"))),E.createElement(k.Z,{visible:l.conditionType===w.w7},E.createElement("div",{className:"condition-edit-mem-sel",onClick:function(){d(re,i)}},E.createElement(k.Z,{visible:re.length>0},E.createElement("div",null,re.map((function(e){return E.createElement("span",{className:"condition-edit-member-styl",key:e.value},e.label)})))),E.createElement(k.Z,{visible:0===re.length},"选择出行方式+"))),E.createElement(k.Z,{visible:l.conditionType===w.NY},E.createElement("div",{className:"condition-edit-mem-sel",onClick:function(){m(se,i)}},E.createElement(k.Z,{visible:se.length>0},E.createElement("div",null,se.map((function(e){return E.createElement("span",{className:"condition-edit-member-styl",key:e.value},e.label)})))),E.createElement(k.Z,{visible:0===se.length},"选择出行类型+"))),E.createElement(k.Z,{visible:l.conditionType===w.l2},E.createElement(_.Z,{placeholder:"请选择办公地点",multiple:!0,style:{flex:1},value:G,onChange:function(e,t,l){I(e),console.log(G),console.log(e,t,l)}},pe)),E.createElement(k.Z,{visible:function(e){switch(e){case w.Bc:case w.j4:return!0;default:return!1}}(l.conditionType)},E.createElement("div",{style:{flex:1}},E.createElement(k.Z,{visible:l.relation!==w.xG},E.createElement(Z.Z,{className:"single-input",placeholder:l.conditionType===w.j4?"出差时长（小时）":null,type:"number",value:l.startAmount||B,onChange:ve})),E.createElement(k.Z,{visible:l.relation===w.xG},E.createElement(Z.Z,{className:"double-input-inline",placeholder:l.conditionType===w.j4?"出差时长（小时）":null,type:"number",value:l.startAmount||B,onChange:ve}),E.createElement("span",{className:"input-split"},"-"),E.createElement(Z.Z,{className:"double-input-inline",placeholder:l.conditionType===w.j4?"出差时长（小时）":null,type:"number",value:l.endAmount||H,onChange:function(e){J(e.target.value)}})))))}},45724:(e,t,l)=>{"use strict";l.d(t,{WD:()=>c,KT:()=>o,xV:()=>r,ux:()=>u,Oh:()=>s,PC:()=>m,k0:()=>d,dA:()=>v,Dw:()=>p,d:()=>b,EN:()=>f,MZ:()=>y,EZ:()=>h,yl:()=>E,du:()=>_,y5:()=>g,ok:()=>Z,lf:()=>k,w9:()=>N,LI:()=>T,l9:()=>w,Fr:()=>A,Al:()=>C,Bc:()=>L,lt:()=>S,w7:()=>D,NY:()=>x,l2:()=>j,j4:()=>F,Bv:()=>M,S_:()=>B,zH:()=>O,ve:()=>P,xG:()=>z,J_:()=>H});var n=l(74720),a=l.n(n),i=function(e){e=e||32;for(var t="ABCDEFGHJKMNPQRSTWXYZabcdefhijkmnprstwxyz2345678",l=t.length,n="",a=0;a<e;a++)n+=t.charAt(Math.floor(Math.random()*l));return n},c="APPLICANT_NODE",o="ROUTER_NODE",r="END",u=1,s=3,m=4,d=5,v=6,p=1,b=3,f=2,y=4,h=[p,f,y],E=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:b,t={user_type:e};return e===f&&(t.level_num="3",t.level_type=1),{node_type:u,key:i(),node_name:"主管审批",child_nodes:[],node_option:"",node_value:a()(t)}},_=function(){return{node_type:s,key:i(),node_name:"财务审核",child_nodes:[],node_option:"",node_value:a()({user_type:1,sign_method:2})}},g=function(){return{node_type:d,key:i(),node_name:"抄送人",child_nodes:[],node_option:"",node_value:a()({})}},Z=function(){return{node_type:m,key:i(),node_name:"出纳支付",child_nodes:[],node_option:"",node_value:a()({user_type:1,pay_status:1})}},k=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"条件1",l=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"优先级1",n=arguments.length>3&&void 0!==arguments[3]&&arguments[3],a="";return{node_type:v,child_nodes:e,key:i(),node_name:t,node_option:l,node_value:a,default:n}},N=[{label:"直接主管",value:"1"},{label:"第2级主管",value:"2"},{label:"第3级主管",value:"3"},{label:"第4级主管",value:"4"},{label:"第5级主管",value:"5"},{label:"第6级主管",value:"6"},{label:"第7级主管",value:"7"},{label:"第8级主管",value:"8"}],T=[{label:"最高层级主管",value:"1"},{label:"第2个层级主管",value:"2"},{label:"第3个层级主管",value:"3"},{label:"第4个层级主管",value:"4"},{label:"第5个层级主管",value:"5"},{label:"第6个层级主管",value:"6"},{label:"第7个层级主管",value:"7"},{label:"第8个层级主管",value:"8"}],w=1,A=2,C=3,L=4,S=5,D=6,x=7,j=8,F=9,M=10,B=[{label:"申请人",value:w,template_types:"ALL",field:"commiter"},{label:"费用部门",value:A,template_types:"ALL",field:"department"},{label:"公司抬头",value:C,template_types:"ALL",field:"title"},{label:"报销金额",value:L,template_types:[1],field:"amount"},{label:"招待金额",value:L,template_types:[2],field:"amount"},{label:"付款金额",value:L,template_types:[4]},{label:"借款金额",value:L,template_types:[3],field:"amount"},{label:"出行方式",value:D,template_types:[2],field:"trans_way"},{label:"出行类型",value:x,template_types:[2],field:"travel_type"},{label:"费用类型",value:S,template_types:[1,4]},{label:"办公地点",value:j,template_types:"ALL"},{label:"出差时长",value:F,template_types:[2]},{label:"用户组",value:M,template_types:"ALL"}],O=[{label:"属于",value:1},{label:"不属于",value:2}],P=[{label:"包含",value:9},{label:"不包含",value:10}],z=8,H=[{label:"大于",value:3},{label:"大于等于",value:4},{label:"等于",value:5},{label:"小于",value:7},{label:"小于等于",value:6},{label:"介于",value:z}]}}]);