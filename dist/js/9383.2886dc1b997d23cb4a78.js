"use strict";(self.webpackChunkreact_webpack=self.webpackChunkreact_webpack||[]).push([[9383],{39383:(e,t,n)=>{n.r(t),n.d(t,{default:()=>T});var a=n(63497),c=n.n(a),s=n(23010),i=n.n(s),r=n(9830),o=n.n(r),l=n(30695),d=n.n(l),f=n(83507),h=n.n(f),p=n(69024),u=n.n(p),m=n(600),k=n.n(m),y=n(85893),x=n(67294),v=n(57016),j=n(9676),D=n(71577),C=n(67919);const T=function(e){h()(s,e);var t,n,a=(t=s,n=function(){if("undefined"==typeof Reflect||!c())return!1;if(c().sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(c()(Date,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,a=k()(t);if(n){var s=k()(this).constructor;e=c()(a,arguments,s)}else e=a.apply(this,arguments);return u()(this,e)});function s(e){var t;return o()(this,s),(t=a.call(this,e)).onCheckboxChange=function(e,n){e.checked=n.target.checked;var a=[];t.state.feeTypeData.forEach((function(e){var t=e.item&&e.item.filter((function(e){return e.checked}))||[];a=[].concat(i()(a),i()(t))})),t.setState({feeTypeData:t.state.feeTypeData,checkedList:a})},t.onCollapse=function(e){e.collapsed=!e.collapsed,t.setState({feeTypeData:t.state.feeTypeData})},t.deleteItem=function(e,n){for(var a=null,c=0;c<t.state.feeTypeData.length;c++){var s=t.state.feeTypeData[c];if(a=s.item&&s.item.find((function(t){return t.fee_type==e.fee_type})))break}a.checked=!1,t.state.checkedList.splice(n,1),t.setState({feeTypeData:t.state.feeTypeData,checkedList:t.state.checkedList})},t.deleteAll=function(){t.state.feeTypeData.forEach((function(e){e.item&&e.item.forEach((function(e){t.state.checkedList.some((function(t){return t.fee_type==e.fee_type}))&&(e.checked=!1)}))})),t.setState({feeTypeData:t.state.feeTypeData,checkedList:[]})},t.handleOk=function(){t.props.onSelected(t.state.checkedList),t.props.onCancel()},t.setChecked=function(e){t.state.feeTypeData.forEach((function(t){t.item&&t.item.forEach((function(t){e.some((function(e){return e.fee_type==t.fee_type}))?t.checked=!0:t.checked=!1}))})),t.setState({checkedList:e,feeTypeData:t.state.feeTypeData})},t.state={feeTypeData:[],checkedList:[]},t}return d()(s,[{key:"componentDidMount",value:function(){var e=this.props.feeTypeData;this.setState({feeTypeData:e})}},{key:"render",value:function(){var e=this,t=this.state,n=t.feeTypeData,a=t.checkedList;return(0,y.jsx)(x.Fragment,{children:(0,y.jsx)(v.Z,{title:"选择费用类型",visible:this.props.visible,footer:null,onCancel:this.props.onCancel,className:"condition-edit-modal-wrapper",children:(0,y.jsxs)("div",{className:"condition-edit-modal-container",children:[(0,y.jsx)("div",{className:"left-box",children:n.map((function(t){return(0,y.jsxs)("div",{children:[(0,y.jsxs)("div",{className:"condition-edit-fee-group",onClick:function(){e.onCollapse(t)},children:[(0,y.jsx)(C.Z,{in:!t.collapsed,timeout:300,classNames:"condition-edit-deg",children:(0,y.jsx)("div",{className:"line-end-arrow"})}),t.fee_name]}),(0,y.jsx)(C.Z,{in:!t.collapsed,timeout:1e3,classNames:"condition-edit-slide-down",children:(0,y.jsx)("div",{children:t.item&&t.item.map((function(t){return(0,y.jsx)("div",{className:"checkbox-wrapper",children:(0,y.jsx)(j.Z,{onChange:function(n){e.onCheckboxChange(t,n)},checked:t.checked,children:t.fee_name})},t.fee_type)}))})})]},t.fee_type)}))}),(0,y.jsxs)("div",{className:"right-box",children:[(0,y.jsxs)("div",{className:"selected-bar",children:[(0,y.jsxs)("div",{className:"title",children:[(0,y.jsxs)("span",{className:"selected",children:["已选 ",a.length," 个"]}),(0,y.jsx)("span",{className:"delete",onClick:this.deleteAll,children:"全部删除"})]}),a.map((function(t,n){return(0,y.jsxs)("div",{className:"checkbox-wrapper selected-box",children:[(0,y.jsx)("span",{className:"selected-name",children:t.fee_name}),(0,y.jsx)("span",{className:"close-btn",onClick:function(){e.deleteItem(t,n)}})]},t.fee_type)}))]}),(0,y.jsxs)("div",{className:"btn-bar",children:[(0,y.jsx)(D.Z,{type:"primary",onClick:this.handleOk,children:"确定"}),(0,y.jsx)(D.Z,{type:"text",onClick:this.props.onCancel,children:"取消"})]})]})]})})})}}]),s}(x.Component)}}]);