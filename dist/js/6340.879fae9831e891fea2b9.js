"use strict";(self.webpackChunkreact_webpack=self.webpackChunkreact_webpack||[]).push([[6340,9137,8591,6533,1440,7315,92],{99620:(e,t,i)=>{i.r(t),i.d(t,{default:()=>w});var n=i(58548),r=i.n(n),a=i(78829),l=i.n(a),o=i(51765),d=i.n(o),c=i(93287),m=i.n(c),u=i(24309),s=i.n(u),p=i(33929),f=i.n(p),_=i(69984),b=i.n(_),y=i(11845),h=i.n(y),v=i(85893),g=(i(67294),i(45697)),x=i.n(g),q=i(16941),j=i(63068);function N(e,t){var i=f()(e);if(s()){var n=s()(e);t&&(n=n.filter((function(t){return m()(e,t).enumerable}))),i.push.apply(i,n)}return i}function S(e){for(var t=1;t<arguments.length;t++){var i=null!=arguments[t]?arguments[t]:{};t%2?N(Object(i),!0).forEach((function(t){b()(e,t,i[t])})):d()?l()(e,d()(i)):N(Object(i)).forEach((function(t){r()(e,t,m()(i,t))}))}return e}function D(e){var t=e.componentData,i=e.updateContainerData,n=e.tab,r=e.styles,a=(e.idx,h()(e,["idx"]));return(0,v.jsx)(q._O,{group:"formItem",style:S({position:"relative",zIndex:2},r),list:t.children,setList:function(e){return i(e,t,n)},ghostClass:"ghost-class",animation:150,filter:".placeholder-view",disabled:e.disabled,className:"sortable-kit",children:t.children.map((function(e,t){return(0,v.jsx)(j.default,S(S({},a),{},{idx:t,componentData:e}),e.id)}))})}D.propTypes={componentData:x().object,tab:x().string,updateContainerData:x().func,styles:x().object},D.defaultProps={componentData:{children:[]},tab:"1",updateContainerData:function(){},styles:{minHeight:100}};const w=D},75825:(e,t,i)=>{i.r(t),i.d(t,{default:()=>w});var n=i(58548),r=i.n(n),a=i(78829),l=i.n(a),o=i(51765),d=i.n(o),c=i(93287),m=i.n(c),u=i(24309),s=i.n(u),p=i(33929),f=i.n(p),_=i(69984),b=i.n(_),y=i(85893),h=(i(67294),i(45697)),v=i.n(h),g=i(80411),x=i.n(g),q=i(16941),j=i(63068);function N(e,t){var i=f()(e);if(s()){var n=s()(e);t&&(n=n.filter((function(t){return m()(e,t).enumerable}))),i.push.apply(i,n)}return i}function S(e){for(var t=1;t<arguments.length;t++){var i=null!=arguments[t]?arguments[t]:{};t%2?N(Object(i),!0).forEach((function(t){b()(e,t,i[t])})):d()?l()(e,d()(i)):N(Object(i)).forEach((function(t){r()(e,t,m()(i,t))}))}return e}function D(e){return(0,y.jsx)("div",{className:"container-view-mobile",onClick:function(e){return e.stopPropagation()},children:(0,y.jsxs)("div",{className:"wrapper-view-mobile",children:[(0,y.jsx)("div",{className:"phone-title",children:e.title}),(0,y.jsx)("div",{className:"tmpl-container-box",children:(0,y.jsx)(q._O,{group:"formItem",invertSwap:!0,list:e.containerData,setList:function(t){return e.setList(t,e.tab)},ghostClass:"ghost-class",animation:150,className:x()({"tmpl-container":!0,disabled:e.disabled}),disabled:e.disabled,children:e.containerData.map((function(t,i){return(0,y.jsx)(j.default,S(S({idx:i},e),{},{componentData:t}),t.id)}))})})]})})}D.propTypes={containerData:v().array,tab:v().string,setList:v().func},D.defaultProps={containerData:[],tab:"1",setList:function(){}};const w=D},89137:(e,t,i)=>{i.r(t),i.d(t,{default:()=>o});var n=i(85893),r=(i(67294),i(45697)),a=i.n(r);function l(e){return(0,n.jsx)("div",{className:"custom-attach",children:(0,n.jsxs)("div",{className:"custom-attach-container",children:[(0,n.jsx)("div",{className:"custom-attach-title",children:(0,n.jsx)("span",{children:e.componentData.form.label})}),(0,n.jsxs)("div",{className:"attach-wrapper",children:[(0,n.jsx)("img",{className:"ico",src:"https://apg-1258944054.cos.ap-guangzhou.myqcloud.com/apg/wxapp-micro-reimburse/apply/common/upload.svg"}),(0,n.jsx)("div",{className:"text",children:"上传附件"})]})]})})}l.propTypes={componentData:a().object},l.defaultProps={componentData:{}};const o=l},79994:(e,t,i)=>{i.r(t),i.d(t,{default:()=>C});var n=i(58548),r=i.n(n),a=i(78829),l=i.n(a),o=i(51765),d=i.n(o),c=i(93287),m=i.n(c),u=i(24309),s=i.n(u),p=i(33929),f=i.n(p),_=i(69984),b=i.n(_),y=i(85893),h=(i(67294),i(45697)),v=i.n(h),g=i(49101),x=i(58975),q=i(99620);function j(e,t){var i=f()(e);if(s()){var n=s()(e);t&&(n=n.filter((function(t){return m()(e,t).enumerable}))),i.push.apply(i,n)}return i}function N(e){for(var t=1;t<arguments.length;t++){var i=null!=arguments[t]?arguments[t]:{};t%2?j(Object(i),!0).forEach((function(t){b()(e,t,i[t])})):d()?l()(e,d()(i)):j(Object(i)).forEach((function(t){r()(e,t,m()(i,t))}))}return e}function S(){return(0,y.jsxs)("div",{className:"placeholder-view",children:[(0,y.jsx)("p",{style:{marginBottom:5},children:"可拖入多个控件"}),(0,y.jsx)("p",{children:"（不包括明细控件、业务组件、说明文字及分割条）"})]})}var D={minHeight:108,paddingBottom:10};function w(e){return(0,y.jsxs)("div",{className:"custom-detailed",children:[(0,y.jsx)("div",{className:"custom-detailed-title",children:(0,y.jsxs)("span",{children:[e.componentData.form.label,(0,y.jsx)(x.Z,{visible:e.componentData.form.required,children:(0,y.jsx)("span",{style:{color:"#FF3B30"},children:"*"})})]})}),(0,y.jsxs)("div",{className:"custom-detailed-container",style:D,children:[(0,y.jsx)(x.Z,{visible:0===e.componentData.children.length,children:(0,y.jsx)(S,{})}),(0,y.jsx)(q.default,N({},e))]}),(0,y.jsx)(x.Z,{visible:void 0!==e.componentData.form.tip,children:(0,y.jsxs)("div",{className:"custom-detailed-footer",children:[(0,y.jsx)(g.Z,{}),e.componentData.form.tip]})})]})}w.propTypes={componentData:v().object},w.defaultProps={componentData:{}};const C=w},76839:(e,t,i)=>{i.r(t),i.d(t,{default:()=>c});var n=i(85893),r=i(67294),a=i(45697),l=i.n(a),o=i(3803);function d(e){var t=e.componentData.form;return(0,n.jsxs)(r.Fragment,{children:[(0,n.jsx)(o.default,{noBorder:e.noBorder,componentData:{form:{label:t.start_time_label,tip:t.tip,required:t.required}}}),(0,n.jsx)(o.default,{componentData:{form:{label:t.end_time_label,tip:t.tip,required:t.required}}}),(0,n.jsx)(o.default,{componentData:{form:{label:"时长",required:t.required}}})]})}d.propTypes={componentData:l().object},d.defaultProps={componentData:{}};const c=d},80912:(e,t,i)=>{i.r(t),i.d(t,{default:()=>m});var n=i(85893),r=(i(67294),i(45697)),a=i.n(r),l=i(80411),o=i.n(l),d=i(58975);function c(e){return(0,n.jsx)("div",{children:(0,n.jsxs)("div",{className:o()({"custom-area":"textarea"===e.componentData.inputType,"custom-input":"textarea"!==e.componentData.inputType,"no-border":e.noBorder}),children:[(0,n.jsxs)("div",{children:[e.componentData.form.label,(0,n.jsx)(d.Z,{visible:e.componentData.form.required,children:(0,n.jsx)("span",{style:{color:"#FF3B30"},children:"*"})})]}),(0,n.jsx)("div",{children:e.componentData.form.tip})]})})}c.propTypes={componentData:a().object,label:a().string,tip:a().string},c.defaultProps={componentData:{form:{}},label:"",tip:""};const m=c},3803:(e,t,i)=>{i.r(t),i.d(t,{default:()=>d});var n=i(85893),r=(i(67294),i(8812)),a=i(58975),l=i(80411),o=i.n(l);const d=function(e){return(0,n.jsxs)("div",{className:o()({"custom-input":!0,"custom-select":!0,"no-border":e.noBorder}),children:[(0,n.jsxs)("div",{children:[e.componentData.form.label,(0,n.jsx)(a.Z,{visible:e.componentData.form.required,children:(0,n.jsx)("span",{className:"required",children:"*"})})]}),(0,n.jsx)("div",{children:e.componentData.form.tip}),(0,n.jsx)("div",{className:"right-out-line",children:(0,n.jsx)(r.Z,{})})]})}},88591:(e,t,i)=>{i.r(t),i.d(t,{default:()=>r});var n=i(85893);i(67294);const r=function(e){return(0,n.jsxs)("div",{className:"get-invoice",children:[(0,n.jsxs)("h1",{className:"fee-list-title",children:[(0,n.jsx)("span",{className:"label",children:e.componentData.form.label}),(0,n.jsx)("span",{className:"required",children:"*"})]}),(0,n.jsx)("img",{className:"img",src:"https://apg-1258944054.cos.ap-guangzhou.myqcloud.com/apg/wbx-qwapp/reimburse/step-1/add_bg.png"}),(0,n.jsx)("div",{className:"tip",children:"选择发票，自动生成费用明细"}),(0,n.jsx)("div",{className:"button",children:(0,n.jsx)("div",{id:"choose-invoice",className:"btn btn-primary btn-large",children:e.componentData.form.tip||"添加发票"})}),(0,n.jsx)("div",{id:"choose-manual-invoice",className:"expense-add",children:(0,n.jsx)("div",{children:(0,n.jsx)("span",{className:"font-size-26 underline",children:"没有发票？手动录入金额"})})}),(0,n.jsx)("div",{className:"split"})]})}},46533:(e,t,i)=>{i.r(t),i.d(t,{default:()=>r});var n=i(85893);i(67294);const r=function(e){return(0,n.jsxs)("div",{className:"payment-info",children:[(0,n.jsxs)("p",{children:[e.componentData.form.label," ",(0,n.jsx)("span",{className:"ant-form-item-required",children:"*"})]}),(0,n.jsx)("div",{className:"payment-info-btn",children:(0,n.jsx)("div",{children:e.componentData.form.tip})})]})}},71440:(e,t,i)=>{i.r(t),i.d(t,{default:()=>r});var n=i(85893);i(67294);const r=function(e){return(0,n.jsxs)("div",{className:"get-list",children:[(0,n.jsxs)("h1",{className:"fee-list-title",children:[(0,n.jsx)("span",{className:"label",children:e.componentData.form.label}),(0,n.jsx)("span",{className:"required",children:"*"})]}),(0,n.jsx)("img",{className:"img",src:"https://apg-1258944054.cos.ap-guangzhou.myqcloud.com/apg/wbx-qwapp/reimburse/no-data.png"}),(0,n.jsx)("div",{className:"button",children:(0,n.jsx)("div",{id:"choose-invoice",className:"btn btn-primary btn-large",children:e.componentData.form.tip})})]})}},63068:(e,t,i)=>{i.r(t),i.d(t,{default:()=>E});var n=i(58548),r=i.n(n),a=i(78829),l=i.n(a),o=i(51765),d=i.n(o),c=i(93287),m=i.n(c),u=i(24309),s=i.n(u),p=i(33929),f=i.n(p),_=i(69984),b=i.n(_),y=i(11845),h=i.n(y),v=i(85893),g=(i(67294),i(45697)),x=i.n(g),q=i(80411),j=i.n(q),N=i(80912),S=i(79994),D=i(3803),w=i(76839),C=(i(46533),i(89137)),k=i(71440),O=i(90778),T=i(88591);const A={RelatePurchaseApply:D.default,department:D.default,bank:D.default,title:D.default,rel_person:D.default,child_list:k.default,apply_list:D.default,fee_info:T.default,attach_list:C.default,oa_flows:D.default,summary:N.default,commiter:D.default,reimburseer:D.default,custom_input:N.default,custom_area:N.default,custom_check_box:D.default,custom_radio:D.default,custom_duration:w.default,custom_detailed:S.default,custom_number:N.default,custom_amount:N.default,custom_columns:S.default,custom_attach:C.default,custom_date:D.default,travel_type:D.default,travel_list:S.default,clbrt_enterprise:D.default,amount:N.default,date:D.default,payment_info:k.default,guest:D.default,contract:D.default,trans_list:O.default,lend_info:D.default,trans_way:D.default};var z=i(96431);function I(e,t){var i=f()(e);if(s()){var n=s()(e);t&&(n=n.filter((function(t){return m()(e,t).enumerable}))),i.push.apply(i,n)}return i}function B(e){for(var t=1;t<arguments.length;t++){var i=null!=arguments[t]?arguments[t]:{};t%2?I(Object(i),!0).forEach((function(t){b()(e,t,i[t])})):d()?l()(e,d()(i)):I(Object(i)).forEach((function(t){r()(e,t,m()(i,t))}))}return e}function M(e){var t,i=e.componentData,n=e.currentComponent,r=e.tab,a=e.checkComponentForm,l=e.componentsNameMap,o=e.template_type,d=(e.noBorder,h()(e,["noBorder"])),c=A[i.name];return(0,v.jsxs)("div",{className:j()((t={"layer-item":!0,"layer-select":n&&n.id===i.id,fixed:n&&(l[n.name]&&l[n.name].fixed||z.Be["".concat(n.name,"_").concat(o)]),error:a&&a["".concat(i.name,"_").concat(i.id)],split:!z.Qh[i.name]},b()(t,e.idx,!0),b()(t,i.name,!0),t)),onClick:function(t){e.disabled||(e.setCurrent(r,i),t.stopPropagation())},children:[(0,v.jsx)("img",{className:"layer-close-btn",onClick:function(t){e.deleteComponent(r,i.id),t.stopPropagation()},src:"https://apg-1258944054.cos.ap-guangzhou.myqcloud.com/apg/pc-micro-reimburse/custom-doc-tmpl/close.svg"}),(0,v.jsx)(c,B({noBorder:0===e.idx||!z.Qh[i.name]},d))]})}M.propTypes={componentData:x().object,currentComponent:x().object,setCurrent:x().func,tab:x().string,deleteComponent:x().func},M.defaultProps={componentData:{children:[]},currentComponent:null,setCurrent:function(){},deleteComponent:function(){},tab:"1"};const E=M},90778:(e,t,i)=>{i.r(t),i.d(t,{default:()=>d});var n=i(66406),r=i.n(n),a=i(85893),l=(i(67294),i(76839)),o={placeholder:"请选择",start_time_label:"开始时间",end_time_label:"结束时间"};const d=function(e){var t=e.componentData||{form:{}};return t.form=r()({},t.form,o),(0,a.jsxs)("div",{className:"travel-itinerary",children:[(0,a.jsxs)("div",{className:"travel-itinerary-section",children:[(0,a.jsx)("div",{children:"请选择起始地"}),(0,a.jsx)("div",{className:"section-icon",children:(0,a.jsx)("img",{src:"https://apg-1258944054.cos.ap-guangzhou.myqcloud.com/apg/wbx-qwapp/apply/travel/route.svg"})}),(0,a.jsx)("div",{children:"请选择目的地"})]}),(0,a.jsx)(l.default,{noBorder:!0,componentData:t})]})}},96431:(e,t,i)=>{i.d(t,{BV:()=>o,Be:()=>b,CM:()=>p,Ct:()=>d,Dn:()=>u,J4:()=>s,Qh:()=>h,YC:()=>c,gF:()=>m,l8:()=>y,oG:()=>_});for(var n=["custom_detailed","custom_columns","attach_list","custom_attach","date","amount","travel_type"],r=[{name:"trans_list",title:"行程清单",desc:"时间与地点",form:{date_type:"YY-MM-DD-hh-mm",required:!0,print:!0,type:"Array",items:{end_point:{field:"end_point",label:"目的地点",required:!0,type:"String"},start_point:{field:"start_point",label:"开始地点",required:!0,type:"String"}}},count:0,includedContainer:{container:"2",msg:"该组件不能添加到首页中，只能添加到报销清单中",mustIn:{c:"travel_list",msg:"该组件只能在出差明细中",template_type:2}}},{name:"department",title:"承担部门",form:{label:"承担部门",tip:"请选择承担部门",required:!0,print:!0,default_type:"target_department",source:"target_department"},print_fixed:!0,required_fixed:!0,count:0},{name:"bank",title:"收款账户",desc:"个人账户",form:{label:"收款账号",tip:"请选择",default_type:"empty",write_req:"any_individual",source:"sys_account",required:!0,print:!0},required_fixed:!0,print_fixed:!0,count:0},{name:"title",title:"承担主体",form:{label:"承担主体",tip:"请选择抬头",required:!0,print:!0,default_type:"empty",source:"all"},print_fixed:!0,required_fixed:!0,count:0},{name:"rel_person",title:"相关人",desc:"参与人",form:{label:"相关人",tip:"请选择",safety_control:"0",required:!1,print:!0},count:0,includedContainer:{container:"2",msg:"该组件不能添加到首页中，只能添加到报销清单中",mustIn:{c:"travel_list",msg:"该组件只能在出差明细中",template_type:2}}},{name:"child_list",title:"报销清单",desc:"报销清单",fixed:!0,form:{label:"报销清单",tip:"添加一笔报销",required:!0,print:!0},print_fixed:!0,required_fixed:!0,count:0,includedContainer:{container:"1",msg:"该组件不能添加到报销清单中,只能添加到首页中"}},{name:"apply_list",title:"关联单据",desc:"关联内部申请单",exclude:[],bill_type:"reimburse",form:{label:"关联申请单",tip:"请选择",apply_type:null,limit_apply_range:["bear_reimburse_apply"],required:!1,print:!0,relation_apply_type:[],limit_apply_number:"multiple"},count:0,includedContainer:{container:"2",msg:"该组件不能添加到首页中，只能添加到报销清单中"}},{name:"fee_info",title:"费用明细",desc:"费用明细",exclude:[],form:{label:"费用明细",tip:"添加发票",required:!0,print:!0},print_fixed:!0,required_fixed:!0,count:0,includedContainer:{container:"2",msg:"该组件不能添加到首页中，只能添加到报销清单中"}},{name:"oa_flows",title:"关联单据",desc:"关联外部单据",form:{label:"关联单据",tip:"请选择",bill_type:1,limit_number:1,relation_limit:"multiple",runtime:["qwh5","wxapp"],limit_range:"outside",required:!1,print:!1},count:0,includedContainer:{container:"2",msg:"该组件不能添加到首页中，只能添加到报销清单中"}},{name:"summary",title:"事由",inputType:"textarea",form:{label:"事由",tip:"请输入事由",length_limit:1024,required:!0,print:!0},print_fixed:!0,required_fixed:!0,count:0,includedContainer:{container:"2",msg:"该组件不能添加到首页中，只能添加到报销清单中"}},{name:"commiter",title:"提单人",form:{label:"提单人",required:!0,print:!0,default_type:"commiter"},print_fixed:!0,required_fixed:!0,count:0},{name:"reimburseer",title:"承担人",form:{label:"承担人",required:!0,print:!0,default_type:"commiter",source:"proxy_range",tip:"请选择承担人"},count:0,print_fixed:!0,required_fixed:!0},{name:"travel_type",title:"出差类型",desc:"本地/外地出差",exclude:[],form:{label:"出行类型",tip:"请先择",options:[{}],required:!0,print:!0},print_fixed:!0,count:0},{name:"travel_list",title:"出差明细",desc:"行程明细",children:[],form:{label:"出差明细",tip:"增加行程",required:!0,print:!0},required_fixed:!0,print_fixed:!0,count:0,exclude:n},{name:"clbrt_enterprise",title:"供应商",desc:"付款供应商",form:{label:"供应商",tip:"请选择",staff_create:"supplier_bank",supplier_scope:"all",required:!0,print:!0},count:0,print_fixed:!0,required_fixed:!0,includedContainer:{container:"2",msg:"该组件不能添加到首页中，只能添加到报销清单中"}},{name:"amount",title:"付款金额",desc:"付款金额",inputType:"number",form:{label:"付款金额",tip:"请输入金额",decimal_length:2,required:!0,print:!0},required_fixed:!0,print_fixed:!0,count:0},{name:"date",title:"付款日期",form:{label:"付款日期",tip:"请选择",date_type:"YY-MM-DD-hh-mm",default_type:"empty",required:!0,print:!0},required_fixed:!0,print_fixed:!0,count:0},{name:"payment_info",title:"付款信息",desc:"选择付款方式",form:{label:"付款信息",tip:"添加付款",pay_type:"pay_arrival",required:!0,print:!0},pay_arrival_fixed:!0,print_fixed:!0,required_fixed:!0,count:0,includedContainer:{container:"2",msg:"该组件不能添加到首页中，只能添加到报销清单中"}},{name:"guest",title:"相关客户",desc:"关联客户",form:{label:"相关客户",tip:"请选择",relate_type:"external_data",order_url:"",required:!1,print:!1,runtime:["qwh5","wxapp"]},count:0,includedContainer:{container:"2",msg:"该组件不能添加到首页中，只能添加到报销清单中",mustIn:{c:"travel_list",msg:"该组件只能在出差明细中",template_type:2}}},{name:"contract",title:"关联合同",desc:"关联合同",form:{label:"关联合同",tip:"请手动填写",default_type:"manual_input",order_url:"",runtime:["qwh5","wxapp"],required:!1,print:!1},count:0,includedContainer:{container:"2",msg:"该组件不能添加到首页中，只能添加到报销清单中"}},{name:"lend_info",title:"核销借款",desc:"核销借款",form:{label:"核销借款",tip:"请选择",des_apply_type:"all",required:!1,print:!0},count:0,includedContainer:{container:"1",msg:"该组件不能添加到报销清单中，只能添加首页"}},{name:"trans_way",title:"出行方式",desc:"出行方式",form:{field:"trans_way",label:"出行方式",tip:"请选择",required:!0,print:!0,type:"String",options:[{}]},count:0,required_fixed:!0,print_fixed:!0,includedContainer:{container:"2",msg:"该组件不能添加到首页中，只能添加到报销清单中",mustIn:{c:"travel_list",msg:"该组件只能在出差明细中",template_type:2}}}],a=n.concat(r.reduce((function(e,t){return e.push(t.name),e}),[])),l=0;l<r.length;l++)if("TravelDetailed"===r[l].name){r[l].exclude=a;break}var o=[["apply_list","trans_list"]],d=[{name:"custom_input",title:"单行文本",inputType:"text",form:{label:"单行文本",tip:"请输入",default_type:"empty",default_value:"",length_limit:200,required:!1,print:!0}},{name:"custom_area",title:"多行文本",inputType:"textarea",form:{label:"多行文本",tip:"请输入",default_type:"empty",default_value:"",length_limit:200,required:!1,print:!0}},{name:"custom_check_box",title:"多选框",form:{label:"多选框",tip:"请选择",required:!1,print:!0,options:[{}]}},{name:"custom_radio",title:"单选框",form:{label:"单选框",tip:"请选择",required:!1,print:!0,options:[{}]}},{name:"custom_duration",title:"时长",form:{start_time_label:"开始时间",end_time_label:"结束时间",tip:"选择",date_type:"YY-MM-DD-hh-mm",default_type:"empty",default_value:"",required:!0,print:!0}},{name:"custom_detailed",title:"明细",children:[],exclude:a,form:{label:"明细",tip:"添加明细",required:!1,print:!0}},{name:"custom_number",title:"数字",inputType:"number",form:{label:"数字",tip:"请输入数字",decimal_length:0,required:!1,print:!0}},{name:"custom_amount",title:"金额",inputType:"number",form:{label:"金额",tip:"请输入金额",decimal_length:2,required:!0,print:!0}},{name:"custom_columns",title:"分栏",children:[],form:{label:"分栏",required:!1,print:!0},exclude:a},{name:"custom_date",title:"日期",form:{label:"日期",tip:"请选择",date_type:"YY-MM-DD-hh-mm",default_type:"empty",required:!0,print:!0}},{name:"custom_attach",title:"附件",form:{field:"custom_attach",label:"附件",required:!1,print:!1},count:0}].concat(r).reduce((function(e,t){return e[t.name]=t,e}),{}),c={amount_2:{title:"招待金额",desc:"招待金额",form:{label:"招待金额"}},amount_4:{title:"付款金额",desc:"付款金额",form:{label:"付款金额"}},amount_3:{title:"借款金额",desc:"借款金额",form:{label:"借款金额"}},date_2:{title:"接待日期",desc:"接待日期",form:{label:"接待日期"}},date_4:{title:"付款日期",desc:"付款日期",form:{label:"付款日期"}},date_3:{title:"预计还款日期",desc:"还款日期",form:{label:"预计还款日期"}}},m={1:{navTitle:"报销单",containerTitle:"报销单-报销清单"},2:{navTitle:"申请单",containerTitle:"申请单"},3:{navTitle:"借款单",containerTitle:"借款单"},4:{navTitle:"付款单",containerTitle:"付款单"}},u={commiter:!0,custom_attach:!0,reimburseer:!0,title:!0,department:!0,bank:!0},s={commiter:!0,reimburseer:!0,department:!0,title:!0,summary:!0,trans_way:!0,fee_info:!0};function p(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"id",i={};return e.forEach((function(e){i[e[t]]=e})),i}var f={bank:{province:""},guest:{name:" "}};function _(e,t){return"Object"===e?f[t]?f[t]:{}:["fee_info"].includes(t)?[]:"Array"===e&&t.includes("trans_list")?[{start_point:"xxx",end_point:"xxx"}]:"Array"===e&&t.includes("custom_attach")?[{attach_url:"https://apg-1258944054.cos.ap-guangzhou.myqcloud.com/apg/pc-micro-reimburse/custom-doc-tmpl/attach_preview.svg",attach_name:"示例",thumbnail_url:"https://apg-1258944054.cos.ap-guangzhou.myqcloud.com/apg/pc-micro-reimburse/custom-doc-tmpl/attach_preview.svg"}]:"Array"===e?[{}]:""}var b={trans_list_1:!1,trans_list_2:!0,trans_way_2:!0},y={1:{amount:"",fee_info:[],template_type:1,created_at:""},2:{template_type:2,created_at:""},3:{template_type:3,created_at:""},4:{template_type:4,fee_info:[],bank:{province:""},date:null,amount:null,pay_way:"",created_at:""}},h={custom_input:!0,custom_area:!0,custom_check_box:!0,custom_radio:!0,custom_duration:!0,custom_number:!0,custom_amount:!0,custom_date:!0,commiter:!0,reimburseer:!0,department:!0,title:!0,trans_way:!0}},77615:(e,t,i)=>{i.r(t),i.d(t,{default:()=>N});var n=i(58548),r=i.n(n),a=i(78829),l=i.n(a),o=i(51765),d=i.n(o),c=i(93287),m=i.n(c),u=i(24309),s=i.n(u),p=i(33929),f=i.n(p),_=i(69984),b=i.n(_),y=i(85893),h=(i(67294),i(80411)),v=i.n(h),g=i(58975),x=i(79153);function q(e,t){var i=f()(e);if(s()){var n=s()(e);t&&(n=n.filter((function(t){return m()(e,t).enumerable}))),i.push.apply(i,n)}return i}function j(e){for(var t=1;t<arguments.length;t++){var i=null!=arguments[t]?arguments[t]:{};t%2?q(Object(i),!0).forEach((function(t){b()(e,t,i[t])})):d()?l()(e,d()(i)):q(Object(i)).forEach((function(t){r()(e,t,m()(i,t))}))}return e}const N=function(e){return(0,y.jsx)("div",{className:v()({"form-container":!0,open:e.open}),children:(0,y.jsx)(g.Z,{visible:e.currentComponent,children:(0,y.jsx)(x.default,j({},e))})})}},85047:(e,t,i)=>{i.r(t),i.d(t,{default:()=>G});var n=i(58548),r=i.n(n),a=i(78829),l=i.n(a),o=i(51765),d=i.n(o),c=i(93287),m=i.n(c),u=i(24309),s=i.n(u),p=i(94513),f=i.n(p),_=i(33929),b=i.n(_),y=i(89060),h=i.n(y),v=i(93133),g=i.n(v),x=i(69984),q=i.n(x),j=i(74720),N=i.n(j),S=i(66406),D=i.n(S),w=i(48550),C=i.n(w),k=i(85893),O=i(67294),T=i(16941),A=i(48086),z=i(57016),I=i(71577),B=i(67724),M=i(80411),E=i.n(M),F=i(10438),P=i(75825),Z=i(77615),Y=i(96431),J=i(96176),L=[{name:"custom_input",title:"单行文本",type:1,fixed:!1,model:{field:"custom_input",label:"单行文本",type:"String"},items:{}},{name:"custom_area",title:"多行文本",type:1,fixed:!1,model:{field:"custom_area",label:"多行文本",type:"String"},items:{}},{name:"custom_check_box",title:"多选框",type:1,fixed:!1,model:{field:"custom_check_box",label:"多选框",type:"Array"},items:{label:{field:"label",type:"String"},value:{field:"value",type:"String"}}},{name:"custom_radio",title:"单选框",type:1,fixed:!1,model:{field:"custom_radio",label:"单选框",type:"Object"},items:{label:{field:"label",type:"String"},value:{field:"value",type:"String"}}},{name:"custom_duration",title:"时长",type:1,fixed:!1,model:{field:"custom_duration",label:"时长",type:"Object"},items:{duration:{field:"duration",label:"时长",type:"Number"},end_time:{field:"end_time",label:"结束时间",type:"Number"},start_time:{field:"start_time",label:"开始时间",type:"Number"}}},{name:"custom_detailed",title:"明细",type:1,fixed:!1,model:{field:"custom_detailed",label:"明细",type:"Array"},items:{}},{name:"custom_number",title:"数字",type:1,fixed:!1,model:{field:"custom_number",label:"数字",type:"Number"},items:{}},{name:"custom_amount",title:"金额",type:1,fixed:!1,model:{field:"custom_amount",label:"金额",type:"Number"},items:{}},{name:"custom_columns",title:"分栏",type:1,fixed:!1,model:{field:"custom_columns",label:"分栏",type:"Object"},items:{}},{name:"custom_attach",title:"附件",type:1,fixed:!1,model:{field:"attach_list",label:"附件列表",type:"Array"},items:{attach_name:{field:"attach_name",type:"String"},attach_url:{field:"attach_url",type:"String"},size:{field:"size",type:"Number"},thumbnail_url:{field:"thumbnail_url",type:"String"}}},{name:"custom_date",title:"日期",type:1,fixed:!1,model:{field:"custom_date",label:"日期",type:"Number"},items:{}},{name:"apply_list",title:"关联单据",type:2,fixed:!1,model:{label:"关联单据",tip:"请选择",type:"Array"},items:{date:{field:"date",label:"招待日期",type:"Number"},id:{field:"id",label:"申请单id",required:!0,type:"String"},summary:{field:"summary",label:"事由",required:!0,type:"String"},time:{field:"time",label:"提单时间",required:!0,type:"Number"},travel_list:{field:"travel_list",items:{trans_time:{field:"trans_time",items:{duration:{field:"duration",label:"时长",required:!0,type:"Number"},end_time:{field:"end_time",label:"行程结束时间",required:!0,type:"Number"},start_time:{field:"start_time",label:"行程开始时间",required:!0,type:"Number"}},label:"时长",type:"Object"}},label:"出差明细",type:"Array"},type:{field:"type",label:"类型",required:!0,type:"Number"}}},{name:"oa_flows",title:"关联单据",type:2,fixed:!1,model:{field:"oa_flows",label:"关联单据",type:"Array"},items:{flow_id:{field:"flow_id",label:"流程id",required:!0,type:"String"}}},{name:"rel_person",title:"相关人",type:2,fixed:!1,model:{field:"rel_person",label:"相关人",type:"Array"},items:{name:{field:"name",label:"用户名",required:!0,type:"String"},uid:{field:"uid",label:"用户id",required:!0,type:"Number"}}},{name:"trans_list",title:"行程明细",type:2,fixed:!1,model:{field:"trans_list",label:"行程明细",type:"Array"},items:{end_point:{field:"end_point",label:"目的地点",required:!0,type:"String"},start_point:{field:"start_point",label:"开始地点",required:!0,type:"String"}}},{name:"travel_list",title:"出差明细",type:2,fixed:!1,model:{field:"travel_list",label:"行程明细",type:"Array"},items:{trans_time:{field:"trans_time",items:{duration:{field:"duration",label:"时长",required:!0,type:"Number"},end_time:{field:"end_time",label:"行程结束时间",required:!0,type:"Number"},start_time:{field:"start_time",label:"行程开始时间",required:!0,type:"Number"}},label:"时长",type:"Object"}}},{name:"commiter",title:"提单人",type:2,fixed:!0,model:{field:"commiter",label:"提单人",type:"Object"},items:{name:{field:"name",label:"用户名",required:!0,type:"String"},uid:{field:"uid",label:"用户uid",required:!0,type:"Number"}}},{name:"reimburseer",title:"承担人",type:2,fixed:!0,model:{field:"reimburseer",label:"承担人",type:"Object"},items:{name:{field:"name",label:"用户名",required:!0,type:"String"},uid:{field:"uid",label:"用户uid",required:!0,type:"Number"}}},{name:"title",title:"费用主体",type:2,fixed:!0,model:{field:"title",label:"费用主体",type:"Object"},items:{id:{field:"id",label:"抬头id",required:!0,type:"Number"},name:{field:"name",label:"抬头名",required:!0,type:"String"}}},{name:"department",title:"承担部门",type:2,fixed:!0,model:{field:"department",label:"承担部门",type:"Object"},items:{full_name:{field:"full_name",label:"部门全名",required:!0,type:"String"},id:{field:"id",label:"部门id",required:!0,type:"Number"},name:{field:"name",label:"部门名",required:!0,type:"String"}}},{name:"summary",title:"事由",type:2,fixed:!0,model:{field:"summary",label:"事由",type:"String"},items:{}},{name:"child_list",title:"报销清单",type:2,fixed:!0,model:{field:"child_list",label:"报销清单",type:"Array"}},{name:"bank",title:"收款账户",type:2,fixed:!0,model:{field:"bank",label:"收款账户",type:"Object"},items:{bank_name:{field:"bank_name",label:"银行名称",required:!0,type:"String"},id:{field:"id",label:"银行卡id",required:!0,type:"Number"},number:{field:"number",label:"卡号",required:!0,type:"String"},user_name:{field:"user_name",label:"开户名称",required:!0,type:"String"}}},{name:"fee_info",title:"费用明细",type:2,fixed:!0,model:{field:"fee_info",label:"费用明细",type:"Array"},items:{attach_list:{field:"attach_list",items:{attach_name:{field:"attach_name",label:"",required:!0,type:"String"},attach_url:{field:"attach_url",label:"",required:!0,type:"String"},size:{field:"size",label:"",required:!0,type:"Number"},thumbnail_url:{field:"thumbnail_url",label:"",required:!0,type:"String"}},label:"附件",required:!0,type:"Array"},fee_name:{field:"fee_name",label:"费用名称",required:!0,type:"String"},fee_type:{field:"fee_type",label:"费用类型",required:!0,type:"Number"},invoice_count:{field:"invoice_count",label:"总发票数",required:!0,type:"Number"},invoice_list:{field:"invoice_list",items:{amount:{field:"amount",label:"金额",required:!0,type:"Number"},attach_list:{field:"attach_list",items:{attach_name:{field:"attach_name",label:"",required:!0,type:"String"},attach_url:{field:"attach_url",label:"",required:!0,type:"String"},size:{field:"size",label:"",required:!0,type:"Number"},thumbnail_url:{field:"thumbnail_url",label:"",required:!0,type:"String"}},label:"发票附件",required:!0,type:"Array"},check_state:{field:"check_state",label:"查验状态",required:!0,type:"Number"},invoice_id:{field:"invoice_id",label:"",required:!0,type:"String"},invoice_type:{field:"invoice_type",label:"",required:!0,type:"Number"},note:{field:"note",label:"",required:!0,type:"String"},order_sn:{field:"order_sn",label:"",required:!0,type:"String"},reimburse_amount:{field:"reimburse_amount",label:"报销金额",required:!0,type:"Number"},sales_name:{field:"sales_name",label:"",required:!0,type:"String"},source:{field:"source",label:"",required:!0,type:"Number"},ticket_code:{field:"ticket_code",label:"",required:!0,type:"String"},ticket_date:{field:"ticket_date",label:"",required:!0,type:"Number"},ticket_sn:{field:"ticket_sn",label:"",required:!0,type:"String"},verify_info:{field:"verify_info",items:{verify_msg:{field:"verify_msg",label:"审核消息",required:!0,type:"String"},verity_status:{field:"verity_status",label:"审核结果",required:!0,type:"Number"}},label:"智能审核结果",required:!0,type:"Array"}},label:"发票列表",required:!0,type:"Array"},note:{field:"note",label:"摘要",required:!0,type:"String"},parent_fee_name:{field:"parent_fee_name",label:"父级费用名称",required:!0,type:"String"},parent_fee_type:{field:"parent_fee_type",label:"父级费用类型",required:!0,type:"Number"},total_amount:{field:"total_amount",label:"总金额",required:!0,type:"Number"}}}],V={id:3501,form_type:413,view:[{component:"commiter",fixed:!0,id:111,order:0,pid:0,type:2},{component:"reimburseer",fixed:!0,id:222,order:1,pid:0,type:2},{component:"department",fixed:!0,id:444,order:2,pid:0,type:2},{component:"title",fixed:!0,id:555,order:3,pid:0,type:2},{component:"travel_type",id:1122,order:4,pid:0,type:2},{component:"summary",fixed:!0,id:1133,order:5,pid:0,type:2},{component:"custom_attach",id:1155,order:7,pid:0,type:1}],model:[{component:"commiter",default_type:"commiter",field:"commiter",id:111,items:{name:{field:"name",label:"用户名",required:!0,type:"String"},uid:{field:"uid",label:"用户uid",required:!0,type:"Number"}},label:"提单人",pid:0,print:!0,required:!0,tip:"",type:"Object"},{component:"reimburseer",field:"reimburseer",id:222,items:{name:{field:"name",label:"用户名",required:!0,type:"String"},uid:{field:"uid",label:"用户uid",required:!0,type:"Number"}},label:"承担人",pid:0,print:!0,required:!0,type:"Object"},{component:"department",field:"department",id:444,items:{full_name:{field:"full_name",label:"部门全名",required:!0,type:"String"},id:{field:"id",label:"部门id",required:!0,type:"Number"},name:{field:"name",label:"部门名",required:!0,type:"String"}},label:"承担部门",pid:0,print:!0,required:!0,tip:"请选择",type:"Object"},{component:"title",field:"title",id:555,items:{id:{field:"id",label:"抬头id",required:!0,type:"Number"},name:{field:"name",label:"抬头名",required:!0,type:"String"}},label:"费用主体",print:!0,required:!0,tip:"请选择",type:"Object"},{component:"travel_type",field:"travel_type",id:1122,items:{},label:"出行类型",pid:0,print:!0,required:!0,tip:"请选择",type:"String"},{component:"summary",field:"summary",id:1133,items:{},label:"事由",length_limit:1024,pid:0,print:!0,required:!0,tip:"请输入事由",type:"String"},{component:"travel_list",field:"travel_list",id:1144,items:{trans_time:{field:"trans_time",items:{duration:{field:"duration",label:"时长",required:!0,type:"Number"},end_time:{field:"end_time",label:"行程结束时间",required:!0,type:"Number"},start_time:{field:"start_time",label:"行程开始时间",required:!0,type:"Number"}},label:"时长",type:"Object"}},label:"行程明细",pid:0,print:!0,required:!0,tip:"增加行程",type:"Array"},{component:"trans_list",date_type:"YY-MM-DD-hh-mm",field:"trans_list",id:11442,items:{end_point:{field:"end_point",label:"目的地点",required:!0,type:"String"},start_point:{field:"start_point",label:"开始地点",required:!0,type:"String"}},label:"行程明细-业务控件",pid:1144,print:!0,required:!0,type:"Array"},{component:"trans_way",field:"trans_way",id:11441,items:{},label:"出行方式",pid:1144,print:!0,required:!0,tip:"请选择",type:"String"},{component:"custom_attach",field:"custom_attach",id:1155,items:{attach_name:{field:"attach_name",type:"String"},attach_url:{field:"attach_url",type:"String"},size:{field:"size",type:"Number"},thumbnail_url:{field:"thumbnail_url",type:"String"}},label:"附件",max_filesize:0,pid:0,print:!1,required:!1,type:"Array"}]},Q=[{field:"travel_way",id:1,label:"打车",value:"打车",order:0},{field:"travel_way",id:2,label:"飞机",value:"飞机",order:1},{field:"travel_way",id:3,label:"火车",value:"火车",order:2},{field:"travel_way",id:4,label:"轮船",value:"轮船",order:3},{field:"travel_way",id:5,label:"其他",value:"其他",order:4},{field:"travel_type",id:6,label:"外地出差",value:"外地出差",order:5},{field:"travel_type",id:7,label:"本地出差",value:"本地出差",order:6},{field:"custom_radio_1624083444530",id:1216,label:"1",value:"1624083550663",order:7},{field:"custom_radio_1624083444530",id:1217,label:"12",value:"1624083556389",order:8}];function R(e,t){var i=b()(e);if(s()){var n=s()(e);t&&(n=n.filter((function(t){return m()(e,t).enumerable}))),i.push.apply(i,n)}return i}function H(e){for(var t=1;t<arguments.length;t++){var i=null!=arguments[t]?arguments[t]:{};t%2?R(Object(i),!0).forEach((function(t){q()(e,t,i[t])})):d()?l()(e,d()(i)):R(Object(i)).forEach((function(t){r()(e,t,m()(i,t))}))}return e}function G(e){var t=(0,O.useRef)(),i=(0,O.useState)({}),n=C()(i,2),r=n[0],a=n[1],l=(0,O.useState)(1),o=C()(l,2),d=o[0],c=(o[1],(0,O.useState)({})),m=C()(c,2),u=m[0],s=m[1],p=(0,O.useState)("mobile"),_=C()(p,2),y=_[0],v=(_[1],(0,O.useState)(null)),x=C()(v,2),q=x[0],j=x[1],S=(0,O.useState)(null),w=C()(S,2),M=w[0],R=w[1],G=(0,O.useState)([]),$=C()(G,2),K=$[0],U=$[1],W=(0,O.useState)([]),X=C()(W,2),ee=X[0],te=X[1],ie=(0,O.useState)([]),ne=C()(ie,2),re=ne[0],ae=ne[1],le=(0,O.useState)([]),oe=C()(le,2),de=oe[0],ce=oe[1],me=(0,O.useState)(!1),ue=C()(me,2),se=ue[0],pe=ue[1],fe=(0,O.useState)([]),_e=C()(fe,2),be=_e[0],ye=_e[1],he=(0,O.useState)({}),ve=C()(he,2),ge=(ve[0],ve[1],(0,O.useState)({})),xe=C()(ge,2),qe=(xe[0],xe[1],(0,O.useState)([])),je=C()(qe,2);je[0],je[1],(0,O.useMemo)((function(){var e=(0,F.p$)(Y.Ct);a(e)}),[]),(0,O.useEffect)((function(){!function(e,t,i){var n=e.view,l=e.model.reduce((function(e,t){return e[t.id]=t,e[t.field]=t,e}),{}),o={},d=[],c=[],m=n.reduce((function(e,t){return t.children=[],e[t.id]=t,e}),{});console.log("optionsDataMapoptionsDataMap",t);for(var u=0;u<n.length;u++){var s=l[n[u].id]&&t[l[n[u].id].field],p=D()({},r[n[u].component],n[u],{form:D()({},r[n[u].component].form,l[n[u].id],s?{options:s.sort((function(e,t){return e.order-t.order}))}:{})});Y.Dn[p.name],"trans_list"===p.name&&(p.required_fixed=!0,p.print_fixed=!0),o[p.component]=o[p.component]?o[p.component]+1:1,m[p.pid]?(m[p.pid].children.push(p),m[p.pid].children=m[p.pid].children.sort((function(e,t){return e.order-t.order}))):l[p.id]&&"main"===l[p.id].belong?d.push(p):c.push(p)}U(d.sort((function(e,t){return e.order-t.order}))),te(c.sort((function(e,t){return e.order-t.order}))),function(e){(function(e,t,i){for(var n=[],l=[],o=0;o<e.length;o++){var d=i[e[o].name],c=D()(r[e[o].name],e[o],{form:D()({},r[e[o].name].form,e[o].model,d?{options:d.sort((function(e,t){return e.order-t.order}))}:{})});delete c.id;var m="".concat(c.name,"_").concat(2),u=Y.YC[m];u&&(c=D()({},c,u,{form:D()(c.form,u.form)})),t[c.name]&&void 0!==c.count&&(c.count=t[c.name]),Y.Dn[c.name],"trans_list"===c.name&&(c.required_fixed=!0,c.print_fixed=!0),1===e[o].type?(delete c.form.field,n.push(c)):2!==e[o].type||Y.J4[c.name]||l.push(c)}a(r),ae(n),ce(l)})(L,e,Q)}(o)}(V,Q),ye([])}),[]);var Ne=function(){sessionStorage.setItem("echo_selected_custom_doc_tmpl",N()({type:2,currTab:"2"})),e.history.goBack()},Se=function(){var e={custom_check_box:!0,custom_radio:!0,trans_way:!0,travel_type:!0};function t(i){i.forEach((function(i){if(i.children&&i.children.length>0&&t(i.children),e[i.name]&&i.form.options)if(0!==i.form.options.length&&i.form.options[0].hasOwnProperty("id"))if(i.form.options.some((function(e){return!e.label||!e.label.trim()})))u["".concat(i.name,"_").concat(i.id)]=!0;else{var n=i.form.options.map((function(e){return e.label}))||[];g()(new(h())(n)).length<i.form.options.length&&(u["".concat(i.name,"_").concat(i.id)]=!0)}else u["".concat(i.name,"_").concat(i.id)]=!0;"custom_detailed"!==i.name&&"custom_columns"!==i.name||i.children&&0!==i.children.length||(u["".concat(i.name,"_").concat(i.id)]=!0)}))}t(K),t(ee)},De=function(e,t,i){var n;n=i||("1"===e?K:ee);for(var r=0;r<n.length;r++){if(n[r].id===t)return[r];if(n[r].children)for(var a=0;a<n[r].children.length;a++)if(n[r].children[a].id===t)return[r,a]}return[]},we=function(e,t){if(q){var i=De(t,q.id,e);R(i.length>0?t:"1"===t?"2":"1")}},Ce=function(e){e&&(z.Z.destroyAll(),z.Z.error({title:"提示",content:e}));var t=JSON.parse(N()(K)),i=JSON.parse(N()(ee));setTimeout((function(){U(t),te(i)}))};return(0,k.jsxs)("div",{className:"custom-doc-tmpl-layout",children:[(0,k.jsxs)("div",{className:"custom-doc-tmpl-header",children:[(0,k.jsxs)("div",{className:"back",children:[(0,k.jsx)(B.Z,{style:{fontSize:"20px",cursor:"pointer"},onClick:Ne,title:"返回"})," ",(0,k.jsx)("span",{className:"title",children:"自定义模板"})]}),(0,k.jsx)("div",{className:"layout-tab",children:(0,k.jsx)("div",{className:E()({active:1===d}),children:"表单设计"})}),(0,k.jsxs)("div",{className:"btn-bar",children:[(0,k.jsx)(I.Z,{type:"text",className:"btn",style:{width:"auto",padding:"4px 10px"},onClick:Ne,children:"取消"}),(0,k.jsx)(I.Z,{type:"primary",className:"btn",onClick:function(){pe(!0),q?t.current.submit():Se(),setTimeout((function(){var e=b()(u).length;if(e>0)return A.ZP.error("发现".concat(e,"个未完善的组件表单，请完善后提交")),void pe(!1);!function(e){var t=[],i=[];function n(r,a,l){for(var o=1,d=0;d<r.length;d++)r[d].children&&n(r[d].children,r[d].id,l),t.push({id:r[d].id,pid:a,component:r[d].name,order:o++,type:r[d].type,fixed:r[d].fixed}),r[d].form.options&&delete r[d].form.options,i.push(H(H(H({},r[d].form),{}),{},{id:r[d].id,pid:a,component:r[d].name,field:1===r[d].type?r[d].form.field||"".concat(r[d].name,"_").concat(r[d].id):r[d].name,componentType:e?r[d].type:void 0}))}if(n(JSON.parse(N()(K)),0,"main"),n(JSON.parse(N()(ee)),0,"child"),console.log(N()({view:t,model:i})),console.log({view:t,model:i}),e)return{view:t,model:i};A.ZP.success("已保存")}()}),100)},loading:se,children:"保存"})]})]}),(0,k.jsxs)("div",{className:"custom-doc-tmpl",children:[(0,k.jsxs)("div",{className:E()({"components-kit-view":!0,show:"mobile"===y}),children:[(0,k.jsx)("p",{className:"list-group-title",children:"基础控件"}),(0,k.jsx)(T._O,{group:{name:"formItem",pull:"clone",put:!1},list:re,setList:ae,sort:!1,animation:0,filter:".disabled",className:"components-kit-list",children:re&&re.map((function(e,t){return(0,k.jsxs)("div",{className:E()({"components-kit-item":!0,basics:!0,disabled:e.count>=1}),children:[(0,k.jsx)("img",{className:"icon-default",src:"https://apg-1258944054.cos.ap-guangzhou.myqcloud.com/apg/pc-micro-reimburse/custom-doc-tmpl/icon-default/".concat(e.name,".svg"),alt:""}),(0,k.jsx)("img",{className:"icon-hover",src:"https://apg-1258944054.cos.ap-guangzhou.myqcloud.com/apg/pc-micro-reimburse/custom-doc-tmpl/icon-hover/".concat(e.name,".svg"),alt:""}),e.title]},t)}))}),(0,k.jsx)("p",{className:"list-group-title",children:"业务控件"}),(0,k.jsx)(T._O,{group:{name:"formItem",pull:"clone",put:!1},list:de,setList:ce,sort:!1,animation:0,filter:".disabled",className:"components-kit-list",children:de&&de.map((function(e,t){return(0,k.jsxs)("div",{className:E()({"components-kit-item":!0,business:!0,disabled:e.count>=1}),children:[(0,k.jsxs)("p",{className:"main-title",children:[(0,k.jsx)("img",{className:"icon-default",src:"https://apg-1258944054.cos.ap-guangzhou.myqcloud.com/apg/pc-micro-reimburse/custom-doc-tmpl/icon-default/".concat(e.name,".svg"),alt:""}),(0,k.jsx)("img",{className:"icon-hover",src:"https://apg-1258944054.cos.ap-guangzhou.myqcloud.com/apg/pc-micro-reimburse/custom-doc-tmpl/icon-hover/".concat(e.name,".svg"),alt:""}),e.title]}),(0,k.jsx)("p",{className:"desc",children:e.desc}),(0,k.jsx)("div",{})]},t)}))})]}),(0,k.jsx)("div",{className:"container-view",onClick:function(){q&&(t.current.submit(),setTimeout((function(){j(null)})))},children:(0,k.jsx)("div",{className:"container-view-main",children:(0,k.jsx)("div",{className:"container-view-main",children:(0,k.jsx)(P.default,{containerData:ee,template_type:2,setList:function(e,t){for(var i=0;i<e.length;i++){var n=e[i].includedContainer;if(n&&n.container!==t)return void Ce(n.msg);if(n&&n.mustIn&&2===n.mustIn.template_type)return void Ce(n.mustIn.msg);e[i].id||(e[i].id=(new Date).getTime()),"travel_list"===e[i].name&&0===e[i].children.length&&(e[i].children=[H(H({},r.trans_way),{},{type:2,id:(new Date).getTime()+100,order:-2,fixed:!0,required_fixed:!0,print_fixed:!0}),H(H({},r.trans_list),{},{id:(new Date).getTime()+300,order:-1,type:2,fixed:!0,required_fixed:!0,print_fixed:!0})])}"1"===t?U(e):te(e),we(e,t),function(e,t){for(var i=e.concat("1"===t?ee:K),n={},a=0;a<i.length;a++)if(n[i[a].name]?n[i[a].name]+=1:n[i[a].name]=1,i[a].children)for(var l=0;l<i[a].children.length;l++)n[i[a].children[l].name]?n[i[a].children[l].name]+=1:n[i[a].children[l].name]=1;for(var o=function(e){if(Y.BV[e].filter((function(e){return n[e]})).length===Y.BV[e].length){var t=Y.BV[e].reduce((function(t,i,n){return t+"【".concat(r[i].title).concat(r[i].desc?"-".concat(r[i].desc):"","】").concat(n<Y.BV[e].length-1?"与":"")}),"");return Ce("".concat(t,"只能存在其中一个")),{v:void 0}}},d=0;d<Y.BV.length;d++){var c=o(d);if("object"===f()(c))return c.v}for(var m=0;m<de.length;m++)n[de[m].name]&&void 0!==de[m].count&&(de[m].count=n[de[m].name]);ce(de);for(var u=0;u<re.length;u++)n[re[u].name]&&void 0!==re[u].count&&(re[u].count=n[re[u].name]);ae(re)}(e,t)},updateContainerData:function(){for(var e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],i=arguments.length>1?arguments[1]:void 0,n=arguments.length>2?arguments[2]:void 0,r=(i.exclude||[]).reduce((function(e,t){return e[t]=!0,e}),{}),a=i.children.reduce((function(e,t){return e[t.name]=!0,e}),{}),l=null,o=0;o<t.length;o++){var d=t[o].includedContainer,c=d&&d.container===n,m=c&&d.mustIn&&d.mustIn.c===i.name&&2===d.mustIn.template_type;if(r[t[o].name]&&!m)return void Ce("该组件不能添加到套件中");if(a[t[o].name]||(l=t[o].name),t[o].id||(t[o].id=(new Date).getTime()),c){if(d.mustIn&&d.mustIn.c!==i.name&&2===d.mustIn.template_type)return void Ce(d.mustIn.msg)}else if(d&&d.container!==n){if(!d.orIn)return void Ce(d.msg);if(i.name!==d.orIn)return void Ce(d.msg)}}var p=(e="1"===n?JSON.parse(N()(K)):JSON.parse(N()(ee))).find((function(e){return i.id===e.id}));p.children=t,u["".concat(p.name,"_").concat(p.id)]&&(delete u["".concat(p.name,"_").concat(p.id)],s(u));for(var f=0;f<de.length;f++)if(de[f].name===l&&void 0!==de[f].count){de[f].count+=1;break}ce(de);for(var _=0;_<re.length;_++)if(re[_].name===l&&void 0!==re[_].count){re[_].count+=1;break}ae(re),"1"===n?U(e):te(e),we(e,n)},currentComponent:q,setCurrent:function(e,i){if(q){if(i.id===q.id)return;t.current.submit()}var n=JSON.parse(N()(i));setTimeout((function(){R(e),j(n),t.current.setFieldsValue(n.form),t.current.validateFields()}))},deleteComponent:function(e,t){var i=De(e,t),n=[];function r(e){return 1===i.length?n=e.splice(i[0],1):2===i.length&&(n=e[i[0]].children.splice(i[1],1)),JSON.parse(N()(e))}if(0!==i.length&&("1"===e?U(r(K)):te(r(ee))),t===(q&&q.id)&&j(null),n.length>0){console.log(n);var a={};!function e(t){for(var i=0;i<t.length;i++){var n="".concat(t[i].name,"_").concat(t[i].id);a[n]=!0,a[t[i].name]=!0,u[n]&&delete u[n],t[i].children&&t[i].children.length>0&&e(t[i].children)}}(n),s(u);var l=function(e){for(var t=0;t<e.length;t++)a[e[t].name]&&void 0!==e[t].count&&e[t].count>0&&(e[t].count-=1);return e};ce(l(de)),ae(l(re))}},tab:"2",title:Y.gF[2].containerTitle,checkComponentForm:u,componentsNameMap:r})})})}),(0,k.jsx)("div",{className:"form-container-panel",children:(0,k.jsx)(J.I.Provider,{value:be,children:(0,k.jsx)(Z.default,{currentComponent:q,open:!!q,form_type:2,updateComponentForm:function(e){var i=De(M,q.id);function n(t){var n=JSON.parse(N()(t));return 1===i.length?n[i[0]].form=D()(n[i[0]].form,e):2===i.length&&(n[i[0]].children[i[1]].form=D()(n[i[0]].children[i[1]].form,e)),n}t.current&&t.current.validateFields(),0!==i.length&&("1"===M?U(n(K)):te(n(ee)))},formRef:t,template_type:2,onFormFinish:function(e){"success"===e?u["".concat(q.name,"_").concat(q.id)]&&delete u["".concat(q.name,"_").concat(q.id)]:u["".concat(q.name,"_").concat(q.id)]=!0,Se(),s(u),console.log(u)}})})})]})]})}i(33648)}}]);